(function(u){var r=window.AmazonUIPageJS||window.P,ea=r._namespace||r.attributeErrors,g=ea?ea("DetailPageImageBlockAssets",""):r;g.guardFatal?g.guardFatal(u)(g,window):g.execute(function(){u(g,window)})})(function(u,r,ea){u.register("postMetric",function(){return{postCountMetric:function(g){if("undefined"!==typeof g){var a=r.ue;if(a){var b=a.count(g)||0;a.count(g,b+1)}}},postTimeMetric:function(g,a){if("undefined"!==typeof g&&"undefined"!==typeof a){var b=r.ue;b&&b.count(g,a)}},emitNexusMetric:function(g){r.ue&&
ue.event&&ue.event(g,"VSEImageBlockEvents","vse.VSEImageBlockEvents.3",{ssd:!1})},buildNexusMetric:function(g,a,b,e,l,d,n,c){return{eventSource:"IBCarousel",placementContext:c,clientId:"VSE",userAgentData:navigator.userAgent,titleSessionId:"0",eventName:g,intPayload:a,videoAsin:b,videoAsinList:"",groupType:e,pageUrl:l,pageAsin:d,weblabIds:n}}}});"use strict";u.register("logFailedInteractionMetric",function(){return{isEnabled:!1}});u.register("postEarlyMetric",function(){return null});"use strict";
u.when("jQuery","ImageBlockController","ImageBlockATF","ImageBlockBTF").register("ImageBlock",function(g,a,b,e){g=g.extend(!0,{},b,e);var l=new a(g);u.register("ImageBlockAPI",function(){return l.api});return l});"use strict";u.when("A","jQuery").execute(function(g,a){g.on("a:image:load:landingImage",function(){r.performance&&performance.now&&r.ue&&ue.count&&ue.count("DPLandingImageHighResDownloadTime",performance.now())});g.loadDynamicImage(a("#landingImage"))});"use strict";u.when("ImageBlockATF",
"atf").register("ImageBlockAiryLoader",function(g){function a(b){b&&(u.load.js(b),r.performance&&performance.now&&r.ue&&ue.count&&ue.count("DPAiryDownloadStartTime",r.parseInt(performance.now())))}function b(b){b&&u.load.css(b)}var e=g.airyConfig;e===ea?u.when("ImageBlockBTF").execute(function(g){e=g.airyConfig;a(e.jsUrl);b(e.cssUrl)}):(a(e.jsUrl),b(e.cssUrl))});"use strict";u.when("jQuery","ImageBlockModel","ImageBlockView","imageBlockUtils","ImageBlockState").register("ImageBlockController",function(g,
a,b,e,l){var d={};return function(n){var c=this;c.dispatch=function(b,a){var c=d[b];e.isDefined(c)&&g.each(c,function(b,d){d.call(r,a)})};c.register=function(b,a){e.isDefined(d[b])||(d[b]=[]);"function"===typeof a&&d[b].push(a)};c.model=new a(n,c);c.view=new b(n,c,c.model);c.api=new l(n,c,c.model);c.init=function(){c.model.init();c.view.init()};c.init()}});"use strict";u.when("A","imageBlockUtils").register("ImageBlockModel",function(g,a){function b(b,d,c,e,g,n){a.isDefined(b)&&(m.type=b);a.isDefined(d)&&
(m.index=d);a.isDefined(c)&&(m.thumbnailIndex=c);a.isDefined(e)&&(m.variant=e);a.isDefined(g)&&(m.color=g);m.shoppableScene=n||null}function e(a){b("image",0,0,"MAIN",a||c.landingAsinColor||c.defaultColor,null)}function l(a){a=a.data;J=g.copy(m);b(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}function d(b){l(b);b=g.copy(b);b.data=g.copy(m);q.dispatch("updateView",b)}function n(){J=g.copy(m);e(m.color)}var c,q,m={},J={},I,r;return function(a,B){q=B;c=a;q.register("updateSelection",
d);q.register("updateModel",l);q.register("resetModel",n);this.init=function(){e()};this.getCurrentItem=function(){return g.copy(m)};this.getPreviousItem=function(){return g.copy(J)};this.setCurrentEvent=function(b){I=b};this.getCurrentEvent=function(){return I};this.setImmersiveViewModalInstance=function(b){r=b};this.getImmersiveViewModalInstance=function(){return r};this.updateTitle=function(b){c.title=b};this.setToPreviousItem=function(){b(J.type,J.index,J.thumbnailIndex,J.variant,J.color,J.shoppableScene)};
this.setToCurrentItem=function(a){b(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}}});"use strict";u.when("ImageBlockBTF","postMetric").register("ImageBlockInitViews",function(g,a){function b(b,a,e,c,q){function m(b){"click"===b.type&&c.postCountMetric("thumbClick");"click"===b.type&&p.overrideAltImageClickAction?x.dispatch("thumbActionClick",b):x.dispatch("updateSelection",b)}function J(b){p.useClickZoom||x.dispatch("imageClick",b)}function I(b){p.useClickZoom||x.dispatch("imageHover",
b)}function K(b){x.dispatch("button360Click",b)}function v(a){!e.isDefined(a)||"swatchClick"!==a.type&&"updatedData"!==a.type?(k.update(a),"swatchHover"!==a.type&&D.getPreviousItem().thumbnailIndex!==a.data.thumbnailIndex&&c.postCountMetric(a.data.type+"ThumbnailSelected"),b.trigger("image-block-thumbnail-selected",a.data)):(k.render(a.data.color,!1,a.onload),a={hasComponents:!0,components:[{name:"mainimage"},{name:"thumbnail"}]},"function"===typeof r.markFeatureRender&&r.markFeatureRender("imageblock",
a))}function B(b){x.dispatch("resize",b)}function P(b){e.selectThumbnail(b,A)}function M(){"function"===typeof r.markFeatureInteractive&&r.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["click"],alwaysInteractive:!0}]})}function O(){"function"===typeof r.markFeatureInteractive&&r.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["hover"],alwaysInteractive:!0},{name:"thumbnail",events:["click","hover"],alwaysInteractive:!0}]});
1===g.useIV?u.when("a-modal").execute(function(){M()}):M();p.disableHoverOnAltImages||b.declarative("thumb-action",["mouseenter","mouseleave"],m);b.declarative("thumb-action",["click"],m);b.declarative("main-image-click",["click"],J);b.declarative("main-image-click",["mouseenter","mouseleave"],I);b.declarative("button-360-click",["click"],K);b.on("resize",B)}function R(b){var a=b.data,d;a&&"ingress"!==a.type&&"click"===b.type&&(d=b);return d}function h(b){var a=D.getCurrentItem(),d={type:"click"};
d.$declarativeParent=b;d.data=a;return d}var k,p,x,D,A;return function(b,e,c){k=this;p=b;x=e;D=c;A=a("#imageBlock #altImages ul");var g=a("#imageBlock .canvas"),n=a("#main-image-container"),f;k.subViews=[];for(e=0;e<q.length;e++)k.subViews.push(new q[e](b,c,k,x));k.render=function(b,C,e){var c=0;A.find(".item").remove();b=b||D.getCurrentItem().color;a.each(k.subViews,function(f,a){c=a.render(b,c,g,A,n,C,e)||c});var p=A.find(".a-button-selected").closest(".a-declarative");f=h(p)};k.init=function(){A=
a("#imageBlock #altImages ul");var f=A.find(".a-button-selected").closest(".a-declarative"),b=f.data("action"),f=f.data(b)||{};f.color=p.landingAsinColor||p.defaultColor;x.dispatch("updateModel",{data:f});k.render(f.color,!0);p.isDebug&&r.console&&console.log(p);x.register("updateView",v);x.register("selectThumbnail",P);O()};k.update=function(b){a.each(k.subViews,function(f,a){a.update(b)});p.usePeekHover&&("mouseleave"===b.type?x.dispatch("updateSelection",f):"click"===b.type&&(f=R(b)||f))}}}var e=
["A","jQuery","imageBlockUtils","postMetric"].concat(g.views);u.when.apply(u,e).register("ImageBlockView",function(){for(var a=arguments[0],d=arguments[1],e=arguments[2],c=arguments[3],g=[],m=4,J=arguments.length;m<J;m++)g.push(arguments[m]);return b(a,d,e,c,g)})});"use strict";u.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAltImageView",function(g,a,b,e,l,d,n){function c(d,f,w,h){if(!b.isjQueryObjDefined(d.find(".a-button-selected"))){var e=
p.getCurrentItem();if(!h||"chromeless-video"!==e.type||!k.autoplayVideo){h=0;"image"===e.type&&(h=Math.max(J(e.color,e.variant),0));var c=f+h;c>=w&&(h=0,c=f);f=b.getImageHash(e.color,h,k);-1!==f&&(x.dispatch("updateModel",{data:{index:h,thumbnailIndex:c,variant:f.variant,type:"image",shoppableScene:f.shoppableScene}}),f=d.find(".item").get(c),b.selectGivenThumbnail(a(f),d))}}}function q(h,f,w){f=k.colorImages&&k.colorImages[f];var e=h;b.isDefined(f)&&(a.each(f,function(f,a){h<k.maxAlts&&(b.createThumbnail({type:"image",
index:f,thumbnailIndex:h,variant:a.variant,shoppableScene:a.shoppableScene},a.thumb,L,"imageThumbnail"),h++)}),d.isEnabled&&n.logAltImgRequestPlacedOnThumbnails(a,d,p),c(L,e,h,w));return h}function m(d,f){if("image"===d.type){var w=a("#image-canvas-caption #canvasCaption"),h,e=k.staticStrings,c=k.colorImages,g=d.color,n=d.index;b.isShoppableScenesEnabled()&&d.shoppableScene?h=e.clickSceneTagsToShopProducts:f&&k.useIV?h=e.clickToExpand:c[g]&&c[g][n].hiRes&&k.useHoverZoom?(h=k.useHoverZoomIpad?e.touchToZoom:
k.useClickZoom?e.clickToZoom:e.rollOverToZoom,k.hoverZoomIndicator&&(h="\x3cimg src\x3d'"+k.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+h)):k.useIV&&(h=e.clickToExpand);w.html(h)}}function J(a,f){return b.getIndexForVariant(a,f,k)}function I(d,f){var h="a-dynamic-image";if(!k.acEnabled){var e;a.each(d.main,function(f,a){b.isDefined(e)||(e=parseFloat(a[1]/a[0])<=parseFloat(k.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});h+=e}var c=b.getMaxDimensionsOfMainImage(d.main,F,k),g=c[0],n=
c[1],c=a("\x3cdiv\x3e\x3c/div\x3e"),g={"max-height":g,"max-width":n};c.addClass(h).css(g).attr({"data-old-hires":d.hiRes,"data-a-manual-replacement":"true",onload:f}).data("a-dynamic-image",d.main);return c}function K(b,f,a){var d="desktop-dp-atf-ib-shoppablescenes-tags-"+b;"function"==typeof uet&&uet("bb",d,{wb:1});a.attr("data-a-image-name","shoppable-scene:"+b);a=H.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");
a.addClass("celwidget").attr("cel_widget_id",d);a.children("span").css("display","inline-block");x.dispatch("initialize-shoppable-scene",{index:b,shoppableScene:f.shoppableScene,imageSource:f.hiRes||f.large||f.lowRes,$tagPlaceholder:a.find(".mirai-scene-tag-placeholder"),$viewProductsButton:a.find(".mirai-scene-view-products-button")});"MutationObserver"in r&&(new MutationObserver(function(a,d){a.forEach(function(a){"childList"===a.type&&a.target.classList.contains("mirai-scene-image-block-tag-container")&&
1===a.addedNodes.length&&"IMG"===a.addedNodes[0].tagName&&""!==a.addedNodes[0].src&&(a=a.addedNodes[0],"function"!==typeof a.onload&&(a.onload=function(){g.trigger("shoppable-scene-image-loaded",{index:b,shoppableScene:f.shoppableScene})}),d.disconnect())})})).observe(a.find(".mirai-scene-image-block-tag-container")[0],{subtree:!0,childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",d,{wb:1});return a}function v(b){var f=F.css("height");null!==f&&b.find(".imgTagWrapper").css("height",f);
b.addClass("selected");k.imgTagWrapperClasses&&b.find(".imgTagWrapper").addClass(k.imgTagWrapperClasses)}function B(a,f){if("image"===a.type||"unavailable"===a.type||"lazy-loaded"===a.type){b.isDefined(f)&&l.postCountMetric("mainImageUpdateOnTwisterVariationClick");var h=b.getImageHash(a.color,a.index,k);if(-1===h)return h={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},b.lazyLoadingRequired(a,p,k)||(x.dispatch("updateModel",h),b.showUnavailable(a.color)),-1;var e=H.find(".item.itemNo"+
a.thumbnailIndex);if(!b.isjQueryObjDefined(e)){var e=a.thumbnailIndex,c=I(h,f),G;G=b.isShoppableScenesEnabled()&&h.shoppableScene?K(e,h,c):H.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");G.addClass("image item itemNo"+e+" maintain-height");G.find(".placeHolder").replaceWith(c);H.find(".list").append(G);g.loadImageManually(c);e=G}v(e);x.dispatch("loadMagnifier");m(a);k.useIV&&b.isDefined(h.hiRes)&&e.css("cursor","pointer");a.isUserGenerated&&(e=p.getPreviousItem(),c=
a.variant,b.isDefined(c)&&e.thumbnailIndex!==a.thumbnailIndex&&(d.isEnabled&&n.logAltImgRequestServed(d),l.postCountMetric("ImageThumbnailSelectedVariant:"+c),0===c.indexOf("IG")&&(l.postCountMetric("IGImageSelectedVariant:"+c),l.postCountMetric("IGImageSelectedEvent:"+a.interaction))));g.trigger("dp:image-block:update",h)}}function P(a){var f=Math.max(J(a.color,p.getCurrentItem().variant),0),f=b.getImageHash(a.color,f,k);if(-1===f)return b.lazyLoadingRequired(a,p,k)||b.showUnavailable(a.color),-1;
a=H.find(".swatchHoverExp");var d=I(f);a.find(".imgTagWrapper").html(d);g.loadImageManually(d);l.postCountMetric("mainImageUpdateOnTwisterVariationHover");v(a);g.trigger("dp:image-block:update",f)}function M(d,f){b.lazyLoadingRequired(d,p,k)||(a("#imageBlock").css("opacity","1"),H.css("opacity","1"),b.spinner(H,!1),H.find("li").removeClass("selected"),a("#image-canvas-caption #canvasCaption").empty(),b.hideUnavailable(),f&&H.find(".list .item").remove())}function O(){var d=H.find(".item .imgTagWrapper"),
f=b.getContainerHeight(F,k.holderRatio,k.holderMaxHeight);0<f&&(F.height(f),d.height(f));H.find("img.a-dynamic-image").each(function(){var f=a(this);f.data("a-manual-replacement")&&g.loadDynamicImage(this);var d=f.data("a-dynamic-image"),d=b.getMaxDimensionsOfMainImage(d,F,k);f.css({"max-height":d[0]+"px","max-width":d[1]+"px"})})}function R(a){m(p.getCurrentItem(),"mouseenter"===a.type)}var h,k,p,x,D,A,L,H,F,N;g.on("triggerImageAjax",function(a){var f=p.getCurrentItem().color;k.colorImages[f]||(k.colorImages[f]=
a);a={type:"updatedData",data:p.getCurrentItem()};x.dispatch("updateView",a);(f=k.colorToAsin[f])&&f.asin&&u.register(b.rankedImagesReadyEvent(f.asin))});return function(a,f,d,e){h=this;k=a;p=f;x=e;k.colorImages[k.landingAsinColor]=k.colorImages[k.defaultColor];h.render=function(a,f,d,h,e,c,w){H=d;L=h;F=e;N=q(f,a,c);c||(a=p.getCurrentItem(),b.lazyLoadingRequired(a,p,k)&&x.dispatch("updateModel",{data:{type:"lazy-loaded"}}));M(p.getCurrentItem(),!c);B(p.getCurrentItem(),w);return N};b.isImageBlockGridViewEnabled()?
h.update=function(a){var f=a.data;p.setCurrentEvent(a);"ingress"!==f.type&&"swatchHover"!==a.type&&(p.setToPreviousItem(),"mouseenter"===a.type?(A&&clearTimeout(A),A=setTimeout(function(){p.setToCurrentItem(f);M(a.data,!1)},b.getHoveringDelayTimer())):"mouseleave"===a.type?A&&clearTimeout(A):"click"===a.type&&(p.setToCurrentItem(f),M(a.data,!1)));"swatchHover"===a.type?("ingress"!==f.type&&M(a.data,!1),f.color===p.getCurrentItem().color?B(p.getCurrentItem()):a.captured||-1===P(f)||(a.captured=!0)):
"image"===f.type&&(f.interaction=a.type,f.isUserGenerated=!0,"mouseenter"===a.type?(l.postCountMetric("dpcc_imageThumbHovered_"+(f.thumbnailIndex+1)+"_"+N),D&&clearTimeout(D),D=setTimeout(function(){B(f);k.usePeekHover||b.selectGivenThumbnail(a.$declarativeParent,L)},b.getHoveringDelayTimer())):"mouseleave"===a.type?D&&clearTimeout(D):"click"===a.type&&(B(f),b.selectGivenThumbnail(a.$declarativeParent,L),l.postCountMetric("dpcc_imageThumbClicked_total"),l.postCountMetric("dpcc_imageThumbClicked_"+
(f.thumbnailIndex+1)+"_"+N)))}:h.update=function(a){var f=a.data;p.setCurrentEvent(a);"ingress"!==f.type&&M(a.data,!1);"swatchHover"===a.type?f.color===p.getCurrentItem().color?B(p.getCurrentItem()):a.captured||-1===P(f)||(a.captured=!0):"image"===f.type&&(f.interaction=a.type,f.isUserGenerated=!0,"mouseenter"===a.type&&l.postCountMetric("dpcc_imageThumbHovered_"+(f.thumbnailIndex+1)+"_"+N),B(f),k.usePeekHover&&"click"!==a.type||(b.selectGivenThumbnail(a.$declarativeParent,L),"click"===a.type&&(l.postCountMetric("dpcc_imageThumbClicked_total"),
l.postCountMetric("dpcc_imageThumbClicked_"+(f.thumbnailIndex+1)+"_"+N))))};k.overrideAltImageClickAction&&b.addTag("clickEnabledOnAltImages");x.register("imageHover",R);x.register("resize",O)}});"use strict";u.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockMagnifierView",function(g,a,b,e,l,d){function n(a){M?a.css("cursor","url('"+I.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),
a.css("cursor","zoom-in"))}function c(a){var d=a.match(/\._((\w|,|\.)+)_\.(gif|jpg|png)$/i);a={};if(b.isDefined(d))for(var d=d[1].split("_"),h=0;h<d.length;h++){var e=d[h].match(/^([A-Z]+)(\d+(\.\d+)?)$/);b.isDefined(e)&&(a[e[1]]=parseInt(e[2],10))}return a}function q(m,q){function h(){var a;q.useClickZoom?(a=q.offsetInClickZoom,a=[Math.min(1,Math.max(0,w[0]-(E[0]+a))/(E[2]-2*a)),Math.min(1,Math.max(0,w[1]-(E[1]+a))/(E[3]-2*a))]):a=f&&f.updatePosition();if(a&&y&&y.detailSize){var b=[y.detailSize[0]-
y.rect.width,y.detailSize[1]-y.rect.height];g.capabilities.rtl?y.detailImage.get(0).style.right=-(a[0]*b[0])+"px":y.detailImage.get(0).style.left=-(a[0]*b[0])+"px";y.detailImage.get(0).style.top=-(a[1]*b[1])+"px"}}function k(a){return a.offsetParent().hasClass("a-dynamic-image-container")}function p(f){var b=T?f.originalEvent.touches[0]||f.originalEvent.changedTouches[0]:"";w=T?[b.pageX,b.pageY]:[f.pageX,f.pageY];if(g.capabilities.rtl){var d=a(r).width();w=T?[d-b.pageX,b.pageY]:[d-f.pageX,f.pageY]}}
function x(a){T&&a.preventDefault();p(a);q.useClickZoom?a=[E[0],E[1],E[0]+E[2],E[1]+E[3]]:(a=f?f.offset:m.offsetParent().offset(),a=I.acEnabled?[a.left,a.top,B.width()+a.left,B.height()+a.top]:[C[0]+a.left,C[1]+a.top,C[0]+C[2]+a.left,C[1]+C[3]+a.top]);w[0]<a[0]||w[1]<a[1]||w[0]>=a[2]||w[1]>=a[3]||I.acEnabled&&!k(m)?(q.fadeMagnifier?Y||(Y=!0,da=setTimeout(function(){D(!0)},500)):q.useClickZoom||D(),z&&(z=!1,clearTimeout(ca))):(z||(z=!0,ca=setTimeout(function(){e.postCountMetric("dppc_hoverZoomOpened");
l.isEnabled&&d.logHoverZoomRequestServed(l)},1E3)),q.fadeMagnifier&&Y&&(Y=!1,clearTimeout(da)),h())}function D(b){b&&v.suppressMagnifier(!0);if(K&&(y&&y.hide(),f&&(f.destroy(),f=null),K=!1,T?(m.unbind("touchmove.magnifier touchstart.magnifier touchend.magnifier"),a(document).trigger("disengaged.magnifier")):a(document).unbind("mousemove.magnifier").trigger("disengaged.magnifier"),J(),b))m.one("click.magnifier touchstart.magnifier",function(a){A(a,!0)})}function A(b,d){d&&v.suppressMagnifier(!1);if(!K&&
!W&&(0===aa&&(e.postCountMetric("dppc_hoverTime",new Date-(r.ue&&r.ue.t0||0)),aa=1),P[U]||(e.postCountMetric("dppc_hoverMain"),P[U]=1),C=[m.position().left,m.position().top,m.width(),m.height()],U&&(p(b),y?y.refit().show():y=new oa,q.useClickZoom||(f=f||new V),E=y.getWindowSize(),h()),K=!0,T?(m.unbind("touchstart.magnifier touchmove.magnifier").bind("touchmove.magnifier",x).bind("touchend.magnifier",D),a(document).trigger("engaged.magnifier")):(I.acEnabled?B.unbind("mousemove.magnifier"):m.unbind("mousemove.magnifier"),
a(document).trigger("engaged.magnifier").bind("mousemove.magnifier",x)),d)){var c=a("#zoomWindow");if(0<c.length)c.one("click.magnifier touchend.magnifier",function(a){D(!0)})}}function J(){q.useHoverZoom&&(T?m.bind("touchstart.magnifier touchmove.magnifier",A):I.acEnabled?k(m)&&B.bind("mousemove.magnifier",A):m.bind("mousemove.magnifier",A))}var v=this,B=m.offsetParent(),u={detailImageUrl:m.attr("data-old-hires"),location:"over",locationElement:m,prelaod:"ready",zIndex:50,offsetInClickZoom:50};q=
a.extend(u,q);q.adjustment=[10,0,-10,0];var y=null,f=null,w=null,C=null,E=null,G={"null":1,"":1,undefined:1},K=!1,W=!1,U=q.detailImageUrl,T=q.useHoverZoomIpad||0,aa=0,P={},V=function(){function f(a){var b=Math.round(Math.min(m.width(),y.rect.width/a));a=Math.round(Math.min(m.height(),y.rect.height/a));c.css({width:b,height:a});d=[b,a]}var b=this,d=[0,0],h=(y.detailSize&&y.detailSize[0]||5E8)/C[2],e=(y.detailSize&&y.detailSize[1]||5E8)/C[3],h=e>h?e:h;a("#magnifierLens").remove();var c=a("\x3cdiv id\x3d'magnifierLens' /\x3e").css({position:"absolute"});
q.generalImageUrls.zoomLensBackground&&c.css({backgroundImage:"url("+q.generalImageUrls.zoomLensBackground+")"});I.showMagnifierOnHover?n(c):c.css("cursor","pointer");b.updatePosition=function(){var a=[C[2]-d[0],C[3]-d[1]],f=0>=a[0]?.5:Math.max(0,Math.min(1,(w[0]-d[0]/2-C[0]-b.offset.left)/a[0])),h=0>=a[1]?.5:Math.max(0,Math.min(1,(w[1]-d[1]/2-C[1]-b.offset.top)/a[1])),e=C[0]+Math.round(f*a[0]),a=C[1]+Math.round(h*a[1]);c.get(0).style.left=e+"px";c.get(0).style.top=a+"px";return[f,h]};b.destroy=function(){c.remove()};
b.offset=m.offsetParent().offset();f(h);b.updatePosition();c.appendTo(m.parent());y.detailImage[0].complete||y.detailImage.load(function(){var a=y.detailImage.width()/C[2];f(a);b.updatePosition()})};V.preload=function(){v.preload(q.generalImageUrls.lensBackgroundUrl)};var oa=function(){function f(){var d={};if("over"===q.location){var d=q.useClickZoom,h={},c=a("#leftCol"),w=a("#centerCol"),n=a("#rightCol"),p=a("#hover-zoom-end"),C=a("#actionPanelContainer"),l=b.isjQueryObjDefined(c)?c.outerHeight():
w.outerHeight();h.top=b.isjQueryObjDefined(c)?c.offset().top:w.offset().top;h.bottom=l+h.top;h.right=b.isjQueryObjDefined(n)?n.offset().left:C.offset().left;h.left=d?0:c.offset().left+c.outerWidth();b.isjQueryObjDefined(p)&&p.offset().top>h.bottom&&(h.bottom=p.offset().top);d=h}else"right"===q.location&&(d=m.offset(),d={left:d.left+m.outerWidth(),top:d.top,right:d.left+m.outerWidth()+400,bottom:d.top+400});q.minHeightElement&&(d.bottom=Math.max(d.bottom,d.top+a(q.minHeightElement).outerHeight()));
d.bottom=Math.min(d.bottom,a(r).scrollTop()+a(r).height());d.left+=k[0];d.top+=k[1];d.right+=k[2];d.bottom+=k[3];d.width=d.right-d.left;d.height=d.bottom-d.top;q.enhancedHoverOverlay&&b.isDefined(r.pageXOffset)&&(h=a(r).width(),d.width=h-d.left+r.pageXOffset-18,d.height-=14);g.css({left:d.left,top:d.top,width:d.width,height:d.height});e.rect=d;return e}function d(a){var f=new Image;e.detailSize=[0,0];f.onload=function(){e.detailSize=[f.width,f.height];h()};f.src=a.attr("src");if(0<f.width&&0<f.height)e.detailSize=
[f.width,f.height];else if(q.detailImageSize)e.detailSize=q.detailImageSize;else{a=c(f.src);var b=C[2]/C[3];a.SS||a.AA?(a=a.SS||a.AA,e.detailSize=[a,a]):a.SX?e.detailSize=[a.SX,Math.round(a.SX/b)]:a.SY?e.detailSize=[Math.round(a.SY*b),a.SY]:a.SL&&(e.detailSize=1<=b?[a.SL,Math.round(a.SL/b)]:[Math.round(a.SL*b),a.SL])}}var e=this,k=q.adjustment;a("#zoomWindow").remove();var w={overflow:"hidden",position:"absolute",backgroundColor:"white",zIndex:q.zIndex};q.enhancedHoverOverlay&&(w.boxShadow="0 6px 8px 2px rgba(0,0,0,.25)",
w.border="1px solid #949494",w.borderColor="rgb(148,148,148)");var g=a("\x3cdiv id\x3d'zoomWindow' /\x3e").css(w);q.fadeMagnifier&&g.fadeIn(200);q.useClickZoom&&(M?g.css("cursor",'url("'+q.zoomOutIcon+'"), auto'):(g.css("cursor","-webkit-zoom-out"),g.css("cursor","-moz-zoom-out"),g.css("cursor","zoom-out")));e.updateImage=function(f){f=a("\x3cimg id\x3d'detailImg' src\x3d'"+f+"'/\x3e").css("position","absolute");e.detailImage&&e.detailImage.remove();g.append(f);a(document).trigger("updated.magnifier");
e.detailImage=f;d(e.detailImage)};e.refit=function(){f();d(e.detailImage);return e};q.fadeMagnifier?(e.show=function(){g.fadeIn(200);return e},e.hide=function(){g.fadeOut(200);return e}):(e.show=function(){g.show();return e},e.hide=function(){g.hide();return e});e.destroy=function(){g.remove();return e};e.getWindowSize=function(){return[e.rect.left,e.rect.top,e.rect.width,e.rect.height]};e.updateImage(U);f();g.appendTo(document.body)},Y=!1,da,z=!1,ca;v.preload=function(f){f=a.makeArray(f);for(var b=
f.length,d=0;d<b;d++)f[d]instanceof Array?v.preload(f[d]):"string"===typeof f[d]&&f[d]&&!G[f[d]]&&(G[f[d]]=new Image,G[f[d]].src=f[d])};v.changeImage=function(f,b){K&&D();U=b;m.attr("src",f);v.preload(f);C=[m.position().left,m.position().top,m.width(),m.height()];b&&("immediately"===q.preload?v.preload(b,!0):a(r).ready(function(){v.preload(b)}),y?y.updateImage(b):m.attr("data-old-hires",b))};v.destroy=function(){I.acEnabled?B.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier"):
m.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier");a(document).unbind("mousemove.magnifier");f&&f.destroy();f=null;y&&y.destroy();y=null};v.detailImage=function(){return y.detailImage};v.suppressMagnifier=function(a){W=a};v.isEngaged=function(){return K};v.engageMagnifier=A;v.disengageMagnifier=D;m[0].complete?J():m.one("load",J);v.preload(m.attr("src"));r.performance&&performance.now&&r.ue&&ue.count&&ue.count("MagnifierImageDownload",performance.now());if(q.preload){var ja=
q.detailImageUrl,u=function(){v.preload(ja,!0);q.useClickZoom||V.preload()},X=q.preload;X.constructor!==Array&&(X=[X]);for(var t=0;t<X.length;t++)if("immediately"===X[t])u();else if(a(r)[X[t]])a(r)[X[t]](u);else a(r).bind(X[t],u)}return v}function m(){if(I.useHoverZoom){var e={adjustment:[0,0,1,1],generalImageUrls:I.staticImages,location:"over",minHeightElement:"#imageBlock",preload:"ready",zIndex:199,useHoverZoomIpad:I.useHoverZoomIpad,useHoverZoom:I.useHoverZoom,useClickZoom:I.useClickZoom,fadeMagnifier:I.fadeMagnifier,
zoomOutIcon:I.staticImages.zoomOutCur,enhancedHoverOverlay:I.enhancedHoverOverlay||I.atfEnhancedHoverOverlay};B&&(B.destroy(),B=ea);var c=u.find(".image.item.selected:not(.mirai-shoppable-scene) img[data-old-hires]").not("[data-old-hires\x3d'']");b.isjQueryObjDefined(c)?I.useClickZoom?(c.one("click.loadmagnifier touchstart.loadmagnifier",function(a){B=new q(c,e);B.engageMagnifier(a,!0)}),M?c.css("cursor",'url("'+I.staticImages.zoomInCur+'"), auto'):(c.css("cursor","-webkit-zoom-in"),c.css("cursor",
"-moz-zoom-in"),c.css("cursor","zoom-in"))):B=new q(c,e):l.isEnabled&&d.logHoverZoomApplicability(a,l)}}var J,I,K,v,B,u,M=navigator.userAgent.match(/msie|trident/i);return function(a,b,d,e){J=this;I=a;K=b;l.refToModel=K;v=e;J.render=function(a,b,d,e,h,c){u=d;B&&(B.destroy(),B=ea)};J.update=function(a){};v.register("loadMagnifier",m);v.register("resize",m)}});"use strict";u.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockTwisterView",function(g,a,b,e){function l(a,d,g){a=(a=g?
g:b.getColorFromState(d.getState().hovered_variations,c))&&""!==a?a:c.defaultColor;m.dispatch("updateView",{type:"swatchHover",data:{color:a}});e.postCountMetric("swatchHover")}function d(a,d,g,n){a=(a=n?n:b.getColorFromState(d.getState().selected_variations,c))&&""!==a?a:c.defaultColor;a===q.getCurrentItem().color?"function"===typeof g&&g():(m.dispatch("updateSelection",{type:"swatchClick",data:{color:a},onload:function(){var a={hasComponents:!0,components:[{name:"mainImage"}]};"function"===typeof r.markFeatureRender&&
r.markFeatureRender("imageblock",a);g()}}),e.postCountMetric("swatchClick"))}var n,c,q,m;return function(a,b,e,v){n=this;c=a;q=b;m=v;g.on("image-block-twister-swatch-hover",l);g.on("image-block-twister-swatch-click",d);n.render=function(a,b,d,e,c){};n.update=function(a){}}});"use strict";u.when("A","jQuery","Airy","imageBlockUtils","ImageBlockLoader","postMetric","vse_ns_videoPlayer").register("ImageBlockVideoView",function(g,a,b,e,l,d,n){function c(f,b,d,c){!h.autoplayVideo||ha||h.useChromelessVideoPlayer?
!e.isjQueryObjDefined(f.find(".a-button-selected"))&&(d=k.getCurrentItem(),!c||h.prioritizeVideos||"chromeless-video"===d.type&&h.autoplayVideo)&&(c=e.getVideoHash(d.color,0,h),-1!==c&&(b+=0,p.dispatch("updateModel",{data:{index:0,thumbnailIndex:b,variant:c.variant,type:h.useChromelessVideoPlayer?"chromeless-video":"chromeful-video"}}),b=f.find(".item").get(b),e.selectGivenThumbnail(a(b),f))):(e.selectGivenThumbnail(f.find("img:last"),f),e.fadeToThumbnail(f.find("img").length-1,L,f))}function q(a){var f=
k.getCurrentItem().color;if(h.useChildVideos&&!h.colorToVideo[f]){var b=function(){if(a){h.colorToVideo[f]=a;var b={type:"updatedData",data:k.getCurrentItem()};p.dispatch("updateView",b)}};h.lazyLoadExperienceDisabled?b():u.when(e.rankedImagesReadyEvent(h.colorToAsin[f].asin)).execute(function(){b()})}}function m(a){if(!h.useChildVideos)return e.lazyLoadingRequired(k.getCurrentItem(),k,h)?void 0:h.videos;if(h.colorToVideo[a])return h.colorToVideo[a];var f=h.colorToAsin[a];if(f&&f.asin){var b={};b.params=
{asin:f.asin,productGroupID:h.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:h.useChromelessVideoPlayer,isUDP:h.isUDP};h.isDPXFeatureEnabled||(b.success=function(a){q(a)},l.load("/gp/product/features/apparel-main-image/videos.html",b));return h.colorToVideo&&h.colorToVideo[a]}}function J(){F&&(F.hide(),D.parent().css("z-index",-1),A.hide())}function I(){p.dispatch("selectThumbnail",e.useTabbedImmersiveView(h)?1:0)}function K(f,h,c,g){return b.embed({isShowFirstFrameWhenReadyEnabled:!0,
parentElement:f[0],streamingUrls:h.url,swfUrl:c.swfUrl,foresterMetadataParams:c.foresterMetadataParams,backgroundColor:"transparent",flashParams:{wmode:"transparent"},experiments:{supportChromelessPlayback:!0},bindings:{canplay:function(){var a=e.isjQueryObjDefined(f.find("video"))?"HTML5":"FLASH";d.postCountMetric("dppc_chromelessVideo:"+a)},playing:function(){f.parent().css("z-index",8)},videounsupported:function(){I();d.postCountMetric("dppc_chromelessVideo:VIDEO_UNSUPPORTED")},error:function(){I();
d.postCountMetric("dppc_chromelessVideo:ERROR")},ended:function(){F.seek(0)}},cuePoints:[{values:h.durationSeconds-1,type:"position",callback:function(b,d,e){b=e.durationSeconds-e.playheadTimeSeconds;f.parent().css("background-color","white").find(".airy-renderer-container").fadeTo(1E3*b,.1,function(){f.parent().css({"background-color":"transparent","z-index":-1});I();a(this).show().css("opacity",1)})}}]})}function v(f){if("chromeful-video"===f.type||"chromeless-video"===f.type){var b=e.getVideoHash(f.color,
f.index,h);if(-1===b)return-1;if("chromeful-video"===f.type){f=f.thumbnailIndex+1;var d=L.width()/L.height(),c=parseInt(b.videoWidth,10),n=parseInt(b.videoHeight,10);e.updateAspectRatio(d,c,n,D);F?(F.show(),e.loadMediaIntoAiry(F,b,N,h.tabletWeb)):F=h.tabletWeb?w:e.createAiryInstanceForChromefulNotUseTabbedImmersiveView(D,b,N,null,h.autoplayVideo,L,A,x,f,h.useTabbedImmersiveView,E,C,G);b:if(e.useTabbedImmersiveView(h)){if(1<e.getVideosCount(k.getCurrentItem().color,h)){if(e.isDefined(H)){A.show();
break b}H=a('\x3ca class\x3d"more-videos"\x3e\x3c/a\x3e').attr("href","#").text(h.staticStrings.watchMoreVideos);A.find("#videoCaption").append(H);g.declarative.create(H,"videoIngressClick",y)}e.playVideoInImmersiveView(h,k.getCurrentItem().color)&&(g.declarative.create(D,"videoIngressClick",y),D.attr&&D.attr("data-ux-click",""),D.children().css("z-index","-1"),D.css("display","inline-block"))}else A.find("#videoCaption").text(h.staticStrings.playVideo),A.show();b=F;h.autoplayVideo&&b&&!ha&&(e.toggleVideoCaption(A),
b.setVolume(0),b.show(),b.play(),ha=!0)}else F?(F.show(),e.loadMediaIntoAiry(F,b,N,h.tabletWeb),F.play(),A.show()):(F=K(D,b,N))&&F.play()}}function B(f,b,k){var w=m(b);b=f;var n=e.isDefined(w)&&0<w.length&&h.alwaysIncludeVideo?1:0;e.isDefined(w)&&0<w.length&&!h.alwaysIncludeVideo&&f===h.maxAlts&&d.postCountMetric("IBVideoDrop");n&&f===h.maxAlts&&(x.find(".item:last").remove(),f--);e.isDefined(w)&&(a.each(w,function(b,c){if(f<h.maxAlts){var g=h.useChromelessVideoPlayer?"chromeless-video":"chromeful-video",
k={type:g,index:b,thumbnailIndex:f,variant:c.variant};y={type:"video-ingress",index:b,thumbnailIndex:f,variant:c.variant};e.useTabbedImmersiveView(h)&&("chromeful-video"===g&&(V+=" videoBlockIngress  videoBlockDarkIngress",c.thumb=c.thumb.replace("_PKmb-play-button-overlay-thumb","")),h.altsOnLeft||(V+=" a-align-top"));e.isImageBlockGridViewEnabled()&&(V+=" videoImageBlockGridView");e.createThumbnail(k,c.thumb,x,V);if(2===h.dp60VideoPosition){var n=x,k=h.dp60VideoPosition;if(0!==k){var p=n.children(".imageThumbnail"),
n=n.children(".videoBlockIngress");p&&n&&p[k-1]&&a(p[k-1]).before(n[0])}}e.useTabbedImmersiveView(h)&&(P(x.find(".videoBlockIngress img"),h.videoIngressATFSlateThumbURL),k=1<w.length?"multiple-videos":"one-video",(p=1<w.length?w.length+" "+h.staticStrings.multipleVideos:h.staticStrings.singleVideo)&&x.find(".videoBlockIngress").append(x.find("#videoCount_template").clone().text(p).attr("id","videoCount")).addClass(k));k=d.buildNexusMetric("ib.thumbnailImpression",f+1,c.mediaObjectId,c.groupType,E,
C,G,S);d.emitNexusMetric(k);k=d.buildNexusMetric("ib.thumbnailRender",f+1,c.mediaObjectId,c.groupType,E,C,G,S);d.emitNexusMetric(k);aa||(aa=!0,d.postCountMetric("chromeless-video"===g?"dppc_chromelessVideoAvailable":"dppc_chromefulVideoAvailable"));f++}if(e.useTabbedImmersiveView(h))return!1}),c(x,b,f,k),h.imageBlockRenderingStartTime&&d.postTimeMetric("vse_desktop_ib_video_ingress_enable_duration",g.now()-h.imageBlockRenderingStartTime));return f}function P(a,f){var b=a.attr("src");if(b&&f){a.attr("src",
f);var d=new Image;d.onload=function(f){a.attr("src",b)};d.src=b}}function M(a){F&&F.pause();a.data=y;a.clickTimeStamp=a.$event.timeStamp;var f="a"===a.targetTag?"dpcc_videoIngressLink":"dpcc_videoIngressSlate";p.dispatch("imageClick",a);d.postTimeMetric("dpcc_vse_videoingressclick",a.$event.timeStamp);a=d.buildNexusMetric("ib.thumbnailClick",a.data.thumbnailIndex+1,h.videos[0].mediaObjectId,h.videos[0].groupType,E,C,G,S);d.emitNexusMetric(a);d.postCountMetric(f)}function O(a){w=a.player;w.hide=function(){w.pause();
g.$("#main-video-container").find(".vse-player-container").hide()};w.show=function(){g.$("#main-video-container").find(".vse-player-container").show();w.play()};w.getMediaSourceInfo=function(){return e.getMediaSourceInfo()}}var R,h,k,p,x,D,A,L,H,F,N,y,f,w,C,E,G,S,W,U,T,aa=!1,ha=!1,V="videoThumbnail";return function(b,c,w,l){R=this;h=b;k=c;p=l;N=h.airyConfig;G=h.contentWeblab&&h.contentWeblab+":"+h.contentWeblabTreatment;h.colorToVideo={};h.colorToVideo[h.landingAsinColor]=h.colorToVideo[h.defaultColor]=
h.videos;h.tabletWeb?(W="tablet",S="applicationType.ImageBlock.vse_ib_tablet_web"):g.capabilities.tablet?(W="tablet",g.capabilities.isAmazonApp&&(S="applicationType.ImageBlock.vse_ib_tablet_app")):(W="desktop",S="desktop_web.ImageBlock.vse_ib_iv");R.render=function(b,d,c,w,p,l){J();x=w;D=p.find("#main-video-container");A=D.parent().find("#video-canvas-caption");L=a("#main-image-container");E=r.location.href;c=k.getCurrentItem().color;!0===l?C=h.mediaAsin:(C=h.colorToAsin[c]&&h.colorToAsin[c].asin,
C=e.isDefined(C)?C:h.mediaAsin);h.useChromelessVideoPlayer||D.addClass("chromeful-container");f=B(d,b,l);v(k.getCurrentItem());e.useTabbedImmersiveView(h)&&g.declarative("videoIngressClick",["click"],M);c=k.getCurrentItem().color;b=e.getVideoHash(c,0,h);-1!==b&&h.tabletWeb&&(b=e.getNilgiriServiceAjaxRequest(h,c,b),n.get(g,"#main-video-container",b,function(){g.$("#main-video-container").find(".vse-player-container").hide()},function(){g.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()}));
return f};e.isImageBlockGridViewEnabled()?R.update=function(a){var b=a.data;"ingress"===b.type||"swatchHover"===a.type||e.lazyLoadingRequired(b,k,h)||(k.setToPreviousItem(),"mouseenter"===a.type?(T&&clearTimeout(T),T=setTimeout(function(){k.setToCurrentItem(b);J()},e.getHoveringDelayTimer())):"mouseleave"===a.type?T&&clearTimeout(T):"click"===a.type&&(k.setToCurrentItem(b),J()));if("swatchHover"===a.type)"ingress"===b.type||e.lazyLoadingRequired(b,k,h)||J(),b.color===k.getCurrentItem().color?v(k.getCurrentItem()):
a.captured||e.lazyLoadingRequired(b,k,h)&&!e.lazyLoadOnHoverEnabled(h)&&v(k.getCurrentItem());else if("chromeful-video"===b.type||"chromeless-video"===b.type){var c=e.getVideoHash(b.color,b.index,h);"mouseenter"===a.type?(d.postCountMetric("dpcc_videoThumbHovered_"+(b.thumbnailIndex+1)+"_"+f),"chromeless-video"===b.type&&(c=d.buildNexusMetric("ib.thumbnailHover",b.thumbnailIndex+1,c.mediaObjectId,c.groupType,E,C,G,S),d.emitNexusMetric(c)),U&&clearTimeout(U),U=setTimeout(function(){v(b);h.usePeekHover||
e.selectGivenThumbnail(a.$declarativeParent,x)},e.getHoveringDelayTimer())):"mouseleave"===a.type?U&&clearTimeout(U):"click"===a.type&&(v(b),e.selectGivenThumbnail(a.$declarativeParent,x),c=d.buildNexusMetric("ib.thumbnailClick",b.thumbnailIndex+1,c.mediaObjectId,c.groupType,E,C,G,S),(!e.useTabbedImmersiveView(h)&&"chromeless-video"===b.type||"tablet"==W)&&d.emitNexusMetric(c),e.useTabbedImmersiveView(h)&&(d.emitNexusMetric(c),d.postCountMetric("dpcc_videoThumbClicked_"+(b.thumbnailIndex+1)+"_"+f),
y.action="videoIngressClick",y.clickTimeStamp=a.$event.timeStamp,y.$event=a.$event,y.$currentTarget=a.$currentTarget,p.dispatch("videoIngressClick",y),d.postTimeMetric("dpcc_vse_videoingressclick",a.$event.timeStamp)))}}:R.update=function(a){var b=a.data;"ingress"===b.type||e.lazyLoadingRequired(b,k,h)||J();if("swatchHover"===a.type)b.color===k.getCurrentItem().color?v(k.getCurrentItem()):a.captured||e.lazyLoadingRequired(b,k,h)&&!e.lazyLoadOnHoverEnabled(h)&&v(k.getCurrentItem());else if("chromeful-video"===
b.type||"chromeless-video"===b.type){var c=e.getVideoHash(b.color,b.index,h);if("mouseenter"===a.type&&(d.postCountMetric("dpcc_videoThumbHovered_"+(b.thumbnailIndex+1)+"_"+f),"chromeless-video"===b.type)){var g=d.buildNexusMetric("ib.thumbnailHover",b.thumbnailIndex+1,c.mediaObjectId,c.groupType,E,C,G,S);d.emitNexusMetric(g)}v(b);h.usePeekHover&&"click"!==a.type||(e.selectGivenThumbnail(a.$declarativeParent,x),"click"===a.type&&(c=d.buildNexusMetric("ib.thumbnailClick",b.thumbnailIndex+1,c.mediaObjectId,
c.groupType,E,C,G,S),(!e.useTabbedImmersiveView(h)&&"chromeless-video"===b.type||"tablet"==W)&&d.emitNexusMetric(c),e.useTabbedImmersiveView(h)&&(d.emitNexusMetric(c),d.postCountMetric("dpcc_videoThumbClicked_"+(b.thumbnailIndex+1)+"_"+f),y.action="videoIngressClick",y.clickTimeStamp=a.$event.timeStamp,y.$event=a.$event,y.$currentTarget=a.$currentTarget,p.dispatch("videoIngressClick",y),d.postTimeMetric("dpcc_vse_videoingressclick",a.$event.timeStamp))))}};if(h.isDPXFeatureEnabled)g.on("triggerVideoAjax",
q);g.on("vsePlayer-imageblock_tablet",O)}});"use strict";u.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveView",function(g,a,b,e,l,d,n,c){function q(a){return a.hiRes||a.large||a.main[a.main.length-1]}function m(){t.find("#ivTitle").click(function(){X.hide()})}function J(){Q=Pa?{type:"360-spin"}:ca.getCurrentItem()}function I(){var a=t.find("#ivStage"),b=X.$container.find(".a-popover-wrapper"),
f=b.find(".a-popover-inner"),b=b.height()-c.getDimension(f,"padding-top")-c.getDimension(f,"padding-bottom");t.css("height",b);var f=t.find("#ivTitle").outerHeight(!0),d=t.find("#ivVariationSelection").outerHeight(!0),e=t.find("#ivMediaSelection").outerHeight(!0),h=t.find("#ivThumbs"),k=c.getDimension(h,"margin-top")+c.getDimension(h,"margin-bottom");h.css("height",b-f-d-e-k);t.find("#ivLargeImage").css("height",b);a.css("width",t.width()-c.getDimension(t,"padding-left")-c.getDimension(t,"padding-right")-
t.find("#ivThumbColumn").width()-c.getDimension(a,"margin-left")-c.getDimension(a,"margin-right"))}function K(){t.find("#ivMediaSelect").change(function(){var b=a(this).val();"all"===b?(t.find("#ivVideoList").hide(),t.find("#ivThumbs").show(),t.find(".ivThumbVideo").show(),"chromeful-video"===Q.type&&t.find("#ivVideo_"+Q.index).click()):"images"===b?(t.find("#ivVideoList").hide(),t.find("#ivThumbs").show(),t.find(".ivThumbVideo").hide(),"chromeful-video"===Q.type&&(0===fa&&0===ba?t.find("#iv360").click():
0===fa?t.find("#ivHeroImage_0").click():t.find("#ivImage_0").click())):"videos"===b&&(t.find("#ivVideoList").show(),t.find("#ivThumbs").hide(),"chromeful-video"!==Q.type?t.find("#ivVideoList_0").click():t.find("#ivVideoList_"+Q.index).click())})}function v(){var a=t.find("#ivStage").find("#ivLargeImage"),b=a.width(),f=a.height(),d=a.find(".fullscreen");d.removeAttr("style");var c=d.width(),e=d.height();0<d.length&&(d[0].naturalWidth&&(c=d[0].naturalWidth),d[0].naturalHeight&&(e=d[0].naturalHeight));
a.css("cursor","auto");var c=0===c?1:c,e=0===e?1:e,h=Math.min(b/c,f/e),k=e*h,g=c*h;1>h?(Qa?a.css("cursor","url('"+z.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),za=!0):za=!1;c=Math.min(g,c);e=Math.min(k-20,e);d.css({"margin-top":(f-e)/2,"margin-left":(b-c)/2,height:e,width:c});a.css("visibility","visible");Aa=!1}function B(a){var b=t.find("#ivLargeImage");b.css("visibility","hidden");b.empty();c.animateStageIn(b);b.append(a);
v()}function P(){ga&&ga.pause();t.find("#ivLarge360").css("display","none");t.find("#ivLargeVideo").css("display","none");t.find("#ivLargeImage").css("display","none");x()}function M(f){P();t.find("#ivLargeImage").css("display","block");var d;"hero-image"===f?b.isDefined(ka)&&(d=q(ka[Q.index])):b.isDefined(la)&&(d=q(la[Q.index]));if(b.isDefined(d)){t.find(".fullscreen").remove();var e=a("\x3cimg\x3e").attr("src",d).addClass("fullscreen"),h=t.find("#ivLargeImage");c.animateStageOut(h,function(){e.load(function(){B(e)});
if(e[0].complete)B(e);else{h.empty();var b=(h.height()-104)/2,f=(h.width()-80)/2;a("\x3cimg\x3e").attr("src",z.staticImages.spinner).css({position:"relative",top:b+"px",left:f+"px"}).appendTo(h)}})}}function O(){var a=parseInt(Q.index,10)+1;a>=ia.length||t.find("#ivVideo_"+a).click()}function R(){var a;b.isDefined(ia)&&(a=ia[Q.index]);if(b.isDefined(a)){P();var f=t.find("#ivLargeVideo").css("display","block");ga?(ga.isDetached()&&ga.attach(f[0]),b.loadMediaIntoAiry(ga,a,wa,z.tabletWeb),ga.show()):
(ga=b.createAiryInstanceForChromeful(f,a,wa,"ImmersiveView"),wa.enableContinuousPlay&&ga.bind("ended",O));ga.play({isAsync:!0})}}function h(){J();var a;a="hero-image"===Q.type?t.find("#ivHeroImage_"+Q.index):"image"===Q.type?t.find("#ivImage_"+Q.index):"chromeful-video"===Q.type||"chromeless-video"===Q.type?t.find("#ivVideo_"+Q.index):"360-spin"===Q.type?t.find("#iv360"):b.isDefined(ka)?t.find("#ivHeroImage_"+Q.index):t.find("#ivImage_"+Q.index);b.isjQueryObjDefined(a)||(a=t.find("#ivImage_0"));k(a)}
function k(a){t.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivThumbVideo")?(Q.type="chromeful-video",Q.index=a.attr("id").split("_")[1],R()):a.hasClass("ivHeroImage")?(Q.type="hero-image",Q.index=a.attr("id").split("_")[1],M(Q.type)):a.hasClass("iv360Image")?(Q.type="360-spin",Q.index=0,p()):(Q.type="image",Q.index=a.attr("id").split("_")[1],M(Q.type))}function p(){P();t.find("#ivLarge360").css("display","block");F();var a=t.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});
c.animateStageIn(a)},200);A();l.postCountMetric("dppc_click360");ta=Date.now()}function x(){0<ta&&(D("dppc_duration360",Date.now()-ta),ta=0)}function D(a,b){r.ue&&r.ue.count(a,b)}function A(){if(0<qa){var a=t.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function L(b,f){if(qa<b.length){var d=a("\x3cimg /\x3e").css({display:"block",width:6*na+"px",height:sa+"px"});d.hide();f.append(d);d.get(0).onload=function(){f.closest(document.documentElement).length&&(qa++,1===
qa&&(A(),0<ta&&D("dppc_loadTime360",Date.now()-ta)),0<Ga&&D("dppc_perSpriteloadTime360",Date.now()-Ga),t.find("#iv360Spinner").hide(),d.show(),xa=5*Z.imageLocations[Math.floor(ya/Z.imageLocations[0].length)][ya%Z.imageLocations[0].length],L(b,f))};d.attr("src",b[qa].replace(/(\._SP)\d+(,)\d+/,"$1"+ua+"$2"+va));Ga=Date.now()}}function H(a){if(b.isDefined(Z.spriteWidthSizes)&&0<Z.spriteWidthSizes.length){var f=Z.spriteWidthSizes,d=f.length,c=f[0],e=f[d-1];if(a<=c)return c;if(a>e)return e;for(c=0;c<
d;c++)if(a>f[c]&&a<=f[c+1])return f[c+1]}else return a}function F(){var b=t.find("#ivLarge360");b.children("#image-360-sprites").length||(b.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),b.css({"margin-left":0,"margin-top":0,width:b.parent().width(),height:b.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),a("\x3cimg\x3e").attr("src",z.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",
top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(b),Ha=!0,N())}function N(){if(b.isDefined(Z.spriteURLs)&&b.isDefined(t)&&Ha&&!Ia){var d=t.find("#ivLarge360"),c=a("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});b.isDefined(Z.staticImages.hint360)&&a("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",Z.staticImages.hint360).appendTo(c);a("\x3cdiv\x3e").css({"text-align":"center"}).text(z.staticStrings.dragToSpin).appendTo(c);
c.appendTo(d);var c=Z.imageWidth,e=Z.imageHeight,h=d.parent().width(),k=d.parent().height(),g=0,n=0;c/e>h/k?(ua=H(h),va=Math.round(e/c*ua),na=Math.ceil(h),sa=Math.ceil(va/ua*h),n=(k-sa)/2):(va=H(k),ua=Math.round(c/e*va),sa=Math.ceil(k),na=Math.ceil(ua/va*k),g=(h-na)/2);d.css({"margin-left":g,"margin-top":n,width:na+"px",height:sa+"px",overflow:"hidden",position:"relative"});d.children("#image-360-sprites").css("width",6*na+"px");L(Z.spriteURLs,t.find("#image-360-sprites"),0);c=t.find("#ivLarge360");
c.bind("mousedown",C);c.bind("touchstart",y);c.bind("touchmove",f);c.bind("touchend",w);a(document).bind("mousemove",E);a(document).bind("mouseup",G);b.isDefined(z.staticImages.grab)&&d.css("cursor","url('"+z.staticImages.grab+"'), auto");Ia=!0}}function y(a){Ba=!0;Ja=a.originalEvent.targetTouches[0].clientX}function f(a){Ba&&(S(a.originalEvent.targetTouches[0].clientX-Ja),Ja=a.originalEvent.targetTouches[0].clientX)}function w(a){Ba&&(Ba=!1)}function C(a){Ca=!0;Ka=a.originalEvent.clientX;b.isDefined(z.staticImages.grabbing)&&
(a=t.find("#ivLarge360"),a.css("cursor","url('"+z.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor","url('"+z.staticImages.grabbing+"'), auto"));return!1}function E(a){Ca&&(S(a.originalEvent.clientX-Ka),Ka=a.originalEvent.clientX)}function G(a){Ca&&(Ca=!1,b.isDefined(z.staticImages.grab)&&(a=t.find("#ivLarge360"),a.css("cursor","url('"+z.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function S(a){for(a=xa-=a/na*180;0>a;)a+=
360;for(;360<a;)a-=360;xa=a;var f;a=360;for(var d=0;d<qa;d++)for(var c=0;c<Z.imageLocations[d].length;c++){var e=Math.abs(xa-5*Z.imageLocations[d][c]);e<a&&(a=e,f=d*Z.imageLocations[0].length+c)}f!==ya&&(a=Math.floor(f/Z.imageLocations[0].length),a!==Math.floor(ya/Z.imageLocations[0].length)&&(b.isDefined(La)||(La=document.createElement("canvas").getContext("2d")),d=t.find("#image-360-sprites").children(),La.drawImage(d[a],0,0)),a=t.find(".iv360Hint").not(".iv360HintFaded"),b.isDefined(a)&&(a.addClass("iv360HintFaded"),
a.animate({opacity:0},750)));ya=f;a=f%Z.imageLocations[0].length*-1*na;f=-1*Math.floor(f/Z.imageLocations[0].length)*sa;d=t.find("#ivLarge360").children("#image-360-sprites");d.css("-webkit-transform","translate3d("+a+"px, "+f+"px, 0)");d.css("transform","translate3d("+a+"px, "+f+"px, 0)")}function W(){t.delegate(".ivThumb","click",function(){var b=a(this);k(b)});t.delegate(".ivThumbVideoListOuter","click",function(){t.find(".ivThumbVideoListOuter").removeClass("selected");var b=a(this);b.addClass("selected");
Q.type="chromeful-video";Q.index=b.attr("id").split("_")[1];R()})}function U(){ga&&!ga.isDetached()&&(wa.volume=ga.getVolume(),ga.detach(),!document.all||r.atob||document.addEventListener||(ga=null));t.find("#ivLargeImage").empty();x()}function T(a,b){return 0<b?b/2:Math.min(0,Math.max(b,a))}function aa(b){var f=ra.left-(b.pageX-Da[0])*Ea;g.capabilities.rtl&&(f=ra.left-(a(r).width()-b.pageX-Da[0])*Ea);b=ra.top-(b.pageY-Da[1])*Ea;f=T(f,Fa.left);b=T(b,Fa.top);t.find(".fullscreen").css({left:f,top:b})}
function ha(){t.delegate("#ivLargeImage","click",function(a){if(Aa)v();else if(za){t.find(".fullscreen").removeAttr("style");if(za){var b=t.find("#ivLargeImage"),f=b.find(".fullscreen");Qa?b.css("cursor","url('"+z.staticImages.zoomOut+"'), auto"):(b.css("cursor","-webkit-zoom-out"),b.css("cursor","-moz-zoom-out"),b.css("cursor","zoom-out"));Aa=!0;var d=t.find("#ivLargeImage");Fa.left=d.width()-f.width();Fa.top=d.height()-f.height();var d=b.height()/2,c=b.width()/2;Da=[b.offset().left+c,b.offset().top+
d];ra.top=d-f.height()/2;ra.left=c-f.width()/2;f.css({position:"relative",left:ra.left,top:ra.top});Ea=Math.max(f.height()/b.height(),f.width()/b.width())}aa(a)}});t.delegate("#ivLargeImage","mousemove",function(a){Aa&&aa(a)})}function V(f){if(b.isImmersiveViewEnabled(z,ca.getCurrentItem().color))if(Ma){var e=f.$event.originalEvent;e.acknowledge&&e.acknowledge(f.$currentTarget[0]);Pa=b.isDefined(f)&&"button-360-click"===f.action;d.isEnabled&&n.logImmersiveViewRequestServed(d);l.postCountMetric("dppc_immersiveViewOpened");
if(b.isDefined(X))X.show();else{f=a("#auiImmersiveViewDiv");var e=a(r).height()-150,h=a(r).width()-75;X=Ma.create(f,{name:"immersiveView",activate:"onclick",width:h,height:e,popoverLabel:"ImmersiveView",hideHeader:!0});f.click()}if(Na){t=a("#ivMain");f=ca.getCurrentItem().color;la=z.colorImages[f];ka=z.heroImage[f];ia=z.useChildVideos?z.colorToVideo[f]:z.videos;Oa=Y()&&z.spin360ColorEnabled[f];Z=Y()?z.spin360ColorData[f]:ea;J();ma=ba=pa=fa=0;b.isDefined(ka)&&(ba=ka.length);b.isDefined(la)&&(fa=la.length);
b.isDefined(ia)&&(pa=ia.length);Oa&&(ma=1);c.populateTitle(t.find("#ivTitle"),45,z);c.populateVariationSelection(t.find("#ivVariationSelection"));f=t.find("#ivMediaSelect");0===fa+ma||0===pa?(f.parent().hide(),t.find("#ivThumbs").addClass("noMediaSelection")):(f.empty(),a("\x3coption/\x3e").attr("value","all").prop("selected",!0).text(z.staticStrings.allMedia+" ("+(ba+fa+ma+pa)+")").appendTo(f),a("\x3coption/\x3e").attr("value","images").text(z.staticStrings.images+" ("+(ba+fa+ma)+")").appendTo(f),
a("\x3coption/\x3e").attr("value","videos").text(z.staticStrings.videos+" ("+pa+")").appendTo(f),f.parent().show(),f.val("all"));f=t.find("#ivThumbs");f.find(".ivRow").not(".placeholder").remove();for(var e=ba+fa+pa+ma,k=h=0;h<e;)for(var w=f.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(f),p=0;3>p&&h<e;p++,h++,k++)if(k<ba){var C=ka[h].thumb,m=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr("id","ivHeroImage_"+h).appendTo(w);m.find(".ivThumbImage").css("background",
'url("'+c.getResizedThumbnailURL(C)+'") center no-repeat')}else if(k>=ba&&k<fa+ba)C=la[h-ba].thumb,m=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr("id","ivImage_"+(h-ba)).appendTo(w),m.find(".ivThumbImage").css("background",'url("'+c.getResizedThumbnailURL(C)+'") center no-repeat');else if(k>=ba+fa&&k<fa+ba+ma)m=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("iv360Image").attr("id","iv360").appendTo(w),m.find(".ivThumbImage").css("background",'url("'+
(b.isDefined(z.staticImages.icon360)?c.getResizedThumbnailURL(z.staticImages.icon360,!0):"")+'") center no-repeat');else if(C=ia[h-fa-ba-ma],m=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivThumbVideo").attr("id","ivVideo_"+(h-fa-ba-ma)).appendTo(w),m.find(".ivThumbImage").css("background",'url("'+C.thumbUrl+'") center no-repeat'),b.isDefined(C)){var q={position:"triggerTop"},x=t.find("#ivThumbs").find(".ivThumbVideoPopover.placeholder").clone().removeClass("placeholder");
x.find(".ivVideoPopoverTitle").text(C.title);x.find(".ivVideoPopoverDuration").text(C.durationTimestamp);q.inlineContent=x[0];g.declarative.create(m,"a-tooltip",q)}f=t.find("#ivVideoList");f.find(".ivThumbVideoListOuter").not(".placeholder").remove();e=f.find(".placeholder");for(h=0;h<pa;h++)k=ia[h],w=e.clone().removeClass("placeholder").appendTo(f),w.attr("id","ivVideoList_"+h),w.find(".ivThumbImage").css("background",'url("'+k.thumbUrl+'") center no-repeat'),w.find(".ivThumbTitle").text(k.title),
w.find(".ivThumbDuration").text(k.durationTimestamp);t.find("#ivLarge360").empty();qa=0;Ia=Ha=!1;wa=z.airyConfig;Na=!1;Ra()}}else r.performance&&performance.now&&r.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else l.postCountMetric("immersiveViewNotExistsClickCount")}function oa(a){var f=z.colorToAsin[a],d={},c=500;if(f&&f.asin){d.params={asin:f.asin};var h="360"+f.asin,k=Date.now();d.success=function(f){D("dppc_asyncRequestTime360",
Date.now()-k);f&&b.isDefined(f.spin360.spin360Model)?(b.ajaxState(h,"success"),z.spin360ColorData[a]=f.spin360.spin360Model,a===ca.getCurrentItem().color&&(Z=z.spin360ColorData[a],N())):d.error()};d.error=function(){l.postCountMetric("dppc_asyncFailed360");D("dppc_asyncRequestTime360",Date.now()-k);c*=2;16E3>=c?setTimeout(function(){k=Date.now();e.load("/gp/product/features/apparel-main-image/360.html",d)},c):b.ajaxState(h,"fail")};b.ajaxState(h)&&"fail"!==b.ajaxState(h)||(e.load("/gp/product/features/apparel-main-image/360.html",
d),b.ajaxState(h,"sent"))}}function Y(){return b.isDefined(z.spin360ConfigEnabled)&&z.spin360ConfigEnabled}var da,z,ca,ja,X,t,ka,la,ia,ba,fa,pa,ma,Q,ga,wa,Z,Oa,na,sa,va,ua,Ka,Ja,Pa=!1,Ha=!1,Ia=!1,xa=0,ya=0,ta=0,Ga=0,Ca=!1,Ba=!1,qa=0,La,Qa=navigator.userAgent.match(/msie|trident/i),Na=!0,Aa=!1,za=!1,Fa={},ra={},Ea,Da,Ma;u.when("a-modal").execute(function(a){Ma=a});var Ra=g.once(function(){K();W();ha();g.on("a:popover:afterUpdatePosition:immersiveView",I);g.on("a:popover:afterShow:immersiveView",h);
g.on("a:popover:afterHide:immersiveView",U);m()});return function(f,e,h,k){da=this;z=f;ca=e;d.refToModel=ca;ja=k;Y()&&(z.spin360ColorData[z.landingAsinColor]=z.spin360ColorData[z.defaultColor],z.spin360ColorEnabled[z.landingAsinColor]=z.spin360ColorEnabled[z.defaultColor]);b.isDefined(z.staticImages.icon360)&&a("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",c.addStyleCodeToURL(z.staticImages.icon360,"_FMpng_RI_"));da.render=function(a,f,d,c,e,h){Na=!0;Y()&&z.spin360ColorEnabled[a]&&
!b.isDefined(z.spin360ColorData[a])&&(z.spin360ColorData[a]={},oa(a));b.isImmersiveViewEnabled(z,ca.getCurrentItem().color)&&Y()&&z.spin360ColorEnabled[a]&&(f===z.maxAlts&&(a=c.find(".item.imageThumbnail"),d=c.find(".item.videoThumbnail"),b.isDefined(d)&&1<d.length?d.last().remove():a.last().remove(),f--),a=c.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),g.declarative.create(a,"button-360-click"),c.append(a),f++,l.postCountMetric("dppc_display360"));
return f};da.update=function(a){};b.isImmersiveViewEnabled(z,ca.getCurrentItem().color)||b.addTag("immersiveViewNotAvailable");ja.register("imageClick",V);ja.register("button360Click",V)}});"use strict";u.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockTabbedImmersiveView",function(g,a,b,e,l,d,n){function c(){var b=K.getImmersiveViewModalInstance().$container.find(".a-popover-wrapper"),d=b.find(".a-popover-inner"),
b=b.height()-n.getDimension(d,"padding-top")-n.getDimension(d,"padding-bottom");a("#iv-tab-view-container").css("height",b);P=a("#iv-tab-view-container ul.iv-tab-views li").filter(function(){return"none"!==a(this).css("display")}).length;1<P?(a("#iv-tab-view-container ul.iv-tab-views li").parent().show(),d=a("#iv-tab-view-container ul.iv-tab-views li").parent().height(),b-=d):a("#iv-tab-view-container ul.iv-tab-views li").parent().hide();a("#iv-tab-view-container .iv-tab-content").css("height",b);
g.trigger("dp:image-block:immersive-view:resize")}function q(){g.trigger("dp:image-block:immersive-view:reset")}function m(c){if(b.isImmersiveViewEnabled(I,K.getCurrentItem().color))if(O){var h=c.$event.originalEvent;h.acknowledge&&h.acknowledge(c.$currentTarget[0]);l.isEnabled&&d.logImmersiveViewRequestServed(l);e.postCountMetric("dppc_immersiveViewOpened");b.isDefined(c)&&("button-360-click"===c.action?a("#iv360TabHeading").click():"videoIngressClick"===c.action?(M=c.clickTimeStamp,a("#ivVideosTabHeading").click()):
"showroomIngressClick"===c.action?(M=c.clickTimeStamp,a("#ivShowroomTabHeading").click()):a("#ivImagesTabHeading").click());h=K.getImmersiveViewModalInstance();if(b.isDefined(h))h.show();else{c=a("#auiImmersiveViewDiv");var h=Math.min(Math.max(a(r).height()-150,540),1080),n=Math.min(Math.max(a(r).width()-75,990),1980),h=O.create(c,{name:"immersiveView",activate:"onclick",width:n,height:h,popoverLabel:"ImmersiveView",hideHeader:!0});K.setImmersiveViewModalInstance(h);c.click()}B&&(B=!1,R(),g.trigger("dp:image-block:immersive-view:init"))}else r.performance&&
performance.now&&r.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else e.postCountMetric("immersiveViewNotExistsClickCount")}var J,I,K,v,B=!0,P=0,M,O;u.when("a-modal").execute(function(a){O=a});var R=g.once(function(){g.on("a:popover:afterUpdatePosition:immersiveView",c);g.on("a:popover:afterShow:immersiveView",c);g.on("a:popover:afterHide:immersiveView",q)}),h=g.once(function(){var b=a("#iv-tab-view-container ul.iv-tab-views li");b.bind("click",
function(d){var c=b.filter(".iv-active");c.attr("id")!==a(this).attr("id")&&g.trigger("dp:ivTabs:"+c.find("a").attr("data-iv-tab-view")+":deselect",d);b.removeClass("iv-active");a(this).addClass("iv-active");a("#iv-tab-view-container .iv-tab-content").hide();c=a(this).find("a").attr("data-iv-tab-view");a("#"+c).show();"ivVideosTab"===c&&(d.clickTimeStamp=M||d.timeStamp);g.trigger("dp:ivTabs:"+c+":select",d);e.postCountMetric("dppc_"+c);return!1})});return function(a,d,c,g){J=this;I=a;K=d;l.refToModel=
K;v=g;J.render=function(a,b,d,c,h,g){e.postCountMetric("dpcc_altThumbs_"+b);B=!0};J.update=function(a){};J.getTitle=function(){};J.getVariationSelectionInfo=function(){};h();b.isImmersiveViewEnabled(I,K.getCurrentItem().color)||b.addTag("immersiveViewNotAvailable");v.register("imageClick",m);v.register("button360Click",m);b.useTabbedImmersiveView(I)&&(v.register("videoIngressClick",m),v.register("showroomIngressClick",m))}});"use strict";u.when("A").register("ImageBlockLoader",function(g){return{load:function(a,
b){b=b||{};b.timeout=b.timeout||4E3;g.ajax(a,b)}}});"use strict";u.when("A","jQuery","Airy","postMetric","ImageBlockATF","ImageBlockBTF","logFailedInteractionMetric","postEarlyMetric","ShoppableSceneWeblabProvider").register("imageBlockUtils",function(g,a,b,e,l,d,n,c,q){function m(a){return null!==a&&"undefined"!==typeof a}function J(f){var b=0;a.each(f,function(a,f){var d=parseInt(f[1],10);d>b&&(b=d)});return b}function I(f){var b=0;a.each(f,function(a,f){var d=parseInt(f[0],10);d>b&&(b=d)});return b}
function u(a,b,d){b=b.width();if(d.naturalMainImageSize)return b;a=J(a);0<a&&(b=Math.min(b,a));return b}function v(a,b,d){b=b.height();if(d.naturalMainImageSize)return b;a=I(a);0<a&&(b=Math.min(b,a));return b}function B(b){var d;a.each(b,function(a,b){m(d)||(d=b[1]/b[0])});return d||1}function P(f,d,c,h,g,k,n,l,m,p,q,x,v){var D=a.extend({},c.foresterMetadataParams);null!==h&&(D.method+="."+h);var A=[];d.disabledViewIds&&(A=d.disabledViewIds);return b.embed({parentElement:f[0],streamingUrls:d.url,
contentId:d.mediaObjectId,contentMinAge:Number(d.minimumAge||"")||0,contentTitle:d.title,swfUrl:c.swfUrl,foresterMetadataParams:D,backgroundColor:"black",flashParams:{wmode:"transparent"},slateImages:{preloadSlate:d.slateUrl,postMediaSlate:d.slateUrl},videoAds:c.videoAds,bindings:{play:function(){if("ImmersiveView"===h)L||(L=!0,e.postCountMetric("dppc_chromefulVideoPlayedIV"));else if(H||(H=!0,e.postCountMetric("dppc_chromefulVideoPlayedPV")),!p){var a=e.buildNexusMetric("ib.thumbnailClick",m,d.mediaObjectId,
d.groupType,q,x,v);e.emitNexusMetric(a)}}},cuePoints:[{values:d.durationSeconds-1,type:"position",callback:function(a,b,f){g&&(M(0,k,l),O(n))}}],disabledViewIds:A})}function M(a,b,d){b.fadeTo(500,0,function(){R(a,d);b.fadeTo(500,1)})}function O(a){a&&a.toggle()}function R(b,d){var c=d.find("img");m(c[b])&&a(c[b]).click()}function h(a,b){y[a]=b?b:y[a];return y[a]}function k(b,d,c){c=c||N;c=c.colorImages;if(1>c.length||!m(c[b])||!m(d))return-1;var e=-1;a.each(c[b],function(a,b){b.variant===d&&(e=a)});
return e}function p(b,d,c){c=c||N;c=c.colorImages;return!(m(c)&&m(c[b])&&m(c[b][d])&&m(c[b][d].main))||1>a.map(c[b][d].main,function(a,b){return b}).length?-1:c[b][d]}function x(a,b,d,c){c.parent().css("z-index",2);0!==d&&0!==b&&(b/=d,a>b?c.css("width",b/a*100+"%"):c.css("height",a/b*100+"%"))}function D(b,d){var e;if(e=b.useIV)e=b.colorImages&&b.colorImages[d]&&0<b.colorImages[d].length?!0:!1;n.isEnabled&&(n.IVApplicaple=e,c.logImmersiveViewApplicability(a,n));return e}function A(){return 0<a(".gridImageBlockViewLayout").length}
var L,H,F,N=a.extend(!0,{},l,d),y={};return{isDefined:m,isDefinedAndEmpty:function(a){return m(a)&&"object"===typeof a&&0===Object.keys(a).length},isUndefinedOrEmpty:function(a){return m(a)?"object"===typeof a&&0===Object.keys(a).length:!0},isDefinedAndNotEmpty:function(a){return m(a)?"object"===typeof a&&0<Object.keys(a).length:!1},isjQueryObjDefined:function(a){return 0!==a.length},getAspectRatio:B,getMaxHeightOfMainImage:v,getMaxWidthOfMainImage:u,getMaxDimensionsOfMainImage:function(a,b,d){if(d.acEnabled)return[b.height(),
b.width()];var c=v(a,b,d);b=u(a,b,d);a=B(a);d=b/a;b=Math.min(b,c*a);c=Math.min(c,d);return[c,b]},getContainerHeight:function(a,b,d){var c=a.get(0);a=0;if(m(c)){a=c.offsetWidth/b;a=Math.min(a,d);var e;b=N.mainImageHeightPartitions;d=N.mainImageMaxSizes;if(m(d)&&m(b)){for(var h=0,g=r.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,c=0;c<b.length;c++)g>b[c]&&(h=c+1);d.length>=h&&(e=d[h])}m(e)&&(a=Math.min(e[1],a))}return a},getColorFromState:function(b,d){if(b){d=d||N;
var c="";a.each(d.visualDimensions,function(a,d){b[d]&&(c+=" "+b[d])});return c&&c.substring(1)}},createThumbnail:function(a,b,d,c){var e=d.find(".template").clone().removeClass("template").addClass("item"),h=document.createElement("img");h.src=b;e.find(".placeHolder").replaceWith(h);(b=a.heroVideoVariant)&&"hero-image"===a.type&&a.variant===b&&e.addClass("heroImageThumbnail");m(c)&&e.addClass(c);A()&&e&&(c=document.createElement("div"),c.className="imageBlockThumbnailImageGrayOverlay",h.parentNode.insertBefore(c,
h));g.declarative.create(e,"thumb-action",a);e.attr&&e.attr("data-ux-click","");d.append(e)},selectGivenThumbnail:function(a,b){var d=a.find(".a-button");b.find(".a-button").removeClass("a-button-selected").removeClass("a-button-focus");d.addClass("a-button-selected").addClass("a-button-focus")},createAiryInstanceForChromeful:function(a,b,d,c,e,h,g,k){P(a,b,d,c,e,h,g,k,0,1,"","","")},createAiryInstanceForChromefulNotUseTabbedImmersiveView:P,loadMediaIntoAiry:function(a,b,d,c){a&&a.getMediaSourceInfo()!==
b.url&&(c?a.loadMedia?(F={mediaSourceInfo:[b.url],contentId:b.mediaObjectId,refTag:"vse_ib_tablet_web"},a.loadMedia(F)):a.play({videoUrl:b.url,mimeType:"video/mp4",contentId:b.mediaObjectId,refTag:"vse_ib_tablet_web"}):a.loadMedia?a.loadMedia({mediaSourceInfo:b.url,contentId:b.mediaObjectId,contentMinAge:Number(b.minimumAge||"")||0,contentTitle:b.title,slateImages:{preloadSlate:b.slateUrl,postMediaSlate:b.slateUrl}}):a.play({videoUrl:b.url,mimeType:"video/mp4",contentId:b.mediaObjectId}))},showUnavailable:function(b){b&&
(a("#imageBlock .unvailableVariation").html(b),a("#imageBlock .variationUnavailable").show())},hideUnavailable:function(){a("#imageBlock .variationUnavailable").hide()},fadeToThumbnail:M,toggleVideoCaption:O,selectThumbnail:R,spinner:function(b,d){var c=a("#imageBlock .a-spinner").parent();0===c.length&&(c=a("\x3cdiv\x3e\x3c/div\x3e").append(a("\x3cspan\x3e\x3c/span\x3e").addClass("a-spinner").addClass("a-spinner-medium")),b.append(c),c.css({position:"absolute",left:"50%",top:"50%",transform:"translate3d(-50%, -50%, 0)",
"-webkit-transform":"translate3d(-50%, -50%, 0)","z-index":"3",width:"48px",height:"48px",border:"8px solid #FFFFFF","-webkit-border-radius":"20px","-moz-border-radius":"20px","border-radius":"100%"}));d?c.show():c.hide();return c},rankedImagesReadyEvent:function(a){return"ranked-images-ready-for-"+a},ajaxState:h,getIndexForVariant:k,getImageHash:p,lazyLoadingRequired:function(a,b,d){b=Math.max(k(a.color,b.getCurrentItem().variant,d),0);b=-1!==p(a.color,b,d);a=d.colorToAsin[a.color]&&d.colorToAsin[a.color].asin;
a=!a||"success"!==h(a);return!d.lazyLoadExperienceDisabled&&!b&&a},lazyLoadOnHoverEnabled:function(a){return!a.lazyLoadExperienceOnHoverDisabled},updateAspectRatio:x,repositionVideoBanner:function(a,b,d,c){setTimeout(function(){var d=a.width()/a.height();x(d,16,9,b)},c||0)},getVideosCount:function(a,b){return b.useChildVideos&&b.colorToVideo[a]?b.colorToVideo[a].length:b.videos?b.videos.length:0},getVideoHash:function(a,b,d){if(d.useChildVideos){if(!m(d.colorToVideo))return-1;a=d.colorToVideo[a]}else a=
d.videos;return m(a)&&m(a[b])&&m(a[b].url)?a[b]:-1},isImmersiveViewEnabled:D,playVideoInImmersiveView:function(a,b){return D(a,b)&&a.useTabbedImmersiveView},useTabbedImmersiveView:function(a){return a.useTabbedImmersiveView},getMediaSourceInfo:function(){return m(F)?F.mediaSourceInfo[0]:""},getNilgiriServiceAjaxRequest:function(a,b,d){return{requester:"DetailPageTablet",marketplaceID:d.marketPlaceID,clientPrefix:"ImageBlock_tablet",locale:d.languageCode,page:"DetailPageTablet",placement:"ImageBlock",
video:{videoURL:d.url,imageURL:d.slateUrl}}},addTag:function(a){r.ue&&r.ue.tag&&r.ue.tag(a)},isShoppableScenesEnabled:function(){return q.isEnabled&&0<a(".mirai-scene-image-block-template").length},isImageBlockGridViewEnabled:A,getHoveringDelayTimer:function(){return 50}}});"use strict";u.when("A","jQuery","imageBlockUtils","ImageBlockHeroUtils").register("ImageBlockHeroImageView",function(g,a,b,e){function l(d,c,g,l){if(!b.isjQueryObjDefined(d.find(".a-button-selected"))){var m=B.getCurrentItem();
if(!l||"chromeless-video"!==m.type||!v.autoplayVideo){l=0;if("hero-image"===m.type){l=n(m.color,m.variant);if(-1===l)return;l=-1!==l?l:0}var q=c+l;q>=g&&(l=0,q=c);c=e.getHeroImageHash(v,m.color,l);-1!==c&&(P.dispatch("updateModel",{data:{index:l,thumbnailIndex:q,variant:c.variant,type:"hero-image"}}),c=d.find(".item").get(q),b.selectGivenThumbnail(a(c),d))}}}function d(d,c,e){if("hero-video"===B.getCurrentItem().type)return d;c=v.heroImage&&v.heroImage[c];var g=d;b.isDefined(c)&&(a.each(c,function(a,
c){d<v.maxAlts&&(b.createThumbnail({type:"hero-image",index:a,thumbnailIndex:d,variant:c.variant},c.thumb,M,"imageThumbnail"),d++)}),l(M,g,d,e));return d}function n(d,c){var e=v.heroImage;if(1>e.length||!b.isDefined(e[d])||!b.isDefined(c))return-1;var g=-1;a.each(e[d],function(a,b){b.variant===c&&(g=a)});return g}function c(){if(O.length&&v.repositionHeroImage){var a=e.getHeroDimParams(v,B.getCurrentItem()),d;b.isDefined(a)&&(d=b.isDefined(a.xPos)?a.xPos+"px "+a.yPos+"px ":"center "+a.yPos+"px ",
O.css({"background-position":d,"background-size":a.width+"px "+a.height+"px ","max-width":a.width+"px ","min-height":a.height+"px ",filter:"","-ms-filter":""}))}}function q(a,d,c,g){if(O.length&&a&&d){if("function"===typeof c||g){var n=new Image;n.onload=g?function(){O.css("background-image",'url("'+a+'")')}:c;n.src=a}c=d[1];var n=d[0],l;g||O.css({"background-image":'url("'+a+'")'});v.repositionHeroImage&&(d=e.getHeroDimParams(v,B.getCurrentItem(),d),b.isDefined(d)&&(c=d.width,n=d.height,l=b.isDefined(d.xPos)?
d.xPos+"px "+d.yPos+"px ":"center "+d.yPos+"px "));O.css({"background-position":l,"background-size":c+"px "+n+"px ","max-width":c+"px ","min-height":n+"px ",filter:"","-ms-filter":""})}}function m(b,d,c,g){b=e.getHeroImageHash(v,b,d);if(-1===b)return-1;d=a.map(b.main,function(a,b){return b})[0];q(d,b.main[d],c,g)}function r(a,b,d){if("hero-image"!==a.type)return-1;var c=n(a.color,B.getCurrentItem().variant),c=-1!==c?c:0;if(-1===e.getHeroImageHash(v,a.color,c))return-1;var g=B.getCurrentItem();a.thumbnailIndex=
g.thumbnailIndex;a.type=g.type;a.variant=g.variant;a.index=c;I(a,b,d)}function I(a,b,d){var c=e.getHeroImageHash(v,a.color,a.index),n;n=a&&R&&g.equals(a,R)?!0:!1;R||(R=a);if(!n&&a||b)m(a.color,a.index,b,d),R=a;O.removeClass("hide-background");g.trigger("dp:image-block:update",c)}var u,v,B,P,M,O,R={};return function(e,g,n,l){u=this;v=e;B=g;P=l;v.heroImage[v.landingAsinColor]=v.heroImage[v.defaultColor];u.render=function(b,c,e,h,g,n,l){M=h;O=a("#heroImage");b=d(c,b,n);r(B.getCurrentItem(),l,n);return b};
u.update=function(a){var d=a.data;"ingress"!==d.type&&O.addClass("hide-background");"swatchHover"===a.type?a.captured||(d.type=B.getCurrentItem().type,-1!==r(d)&&(a.captured=!0)):"hero-image"===d.type&&(I(d),"click"!==a.type&&v.usePeekHover||b.selectGivenThumbnail(a.$declarativeParent,M))};P.register("resize",c)}});"use strict";u.when("A","jQuery","imageBlockUtils").register("ImageBlockAltImageIngressView",function(g,a,b){var e,l,d,n;return function(a,q,m,r){e=this;l=a;d=r;e.render=function(a,d,c,
m,q,r,u){n=m;e=this;c=l.maxAlts;m=d;q=l.colorImages[a]?l.colorImages[a].length:0;q+=b.getVideosCount(a,l);a=l.heroImage[a];r=0;a&&(r=a.length);a=q+r;a>c&&(c=a-c,a=n.find(".altIngressTemplate").clone().removeClass("altIngressTemplate").removeClass("aok-hidden").addClass("item"),c+="+",m={type:"ingress",index:0,thumbnailIndex:d,variant:""},a.find("#altIngressText").append(c),g.declarative.create(a,"thumb-action",m),n.append(a),m=d++);return m};e.update=function(a){"ingress"===a.data.type&&"click"===
a.type&&d.dispatch("imageClick",a)}}});"use strict";u.when("imageBlockUtils").register("ImageBlockState",function(g){return function(a,b,e){this.getImageHash=function(b){var d=e.getCurrentItem();b=g.getIndexForVariant(d.color,b||"MAIN",a);return g.getImageHash(d.color,b,a)};this.onImageUpdateForTwister=function(a){b.register("updateSelection",function(b){"swatchClick"===b.type&&"function"===typeof a&&a()})}}});"use strict";u.when("jQuery","imageBlockUtils").register("ImageBlockHeroUtils",function(g,
a){function b(a,b){var c;if(b.repositionHeroImage){c=a[1];var e=a[0];if(768>=(r.innerHeight||document.documentElement.clientHeight||document.body.clientHeight))c*=.7,e*=.7;else{var g=((r.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-1024)/256,g=Math.max(Math.min(g,1),0);c*=.7+.3*g;e*=.7+.3*g}c=[c,e]}return c}function e(b,e,c){var g;if(c.repositionHeroImage){var l=r.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;c=c.heroFocalPoint;if(a.isDefined(c)){g=
Math.max((l-Math.min(1500,b))/2,0);var u=Math.max((l-b)/2,0);g-=u;l=Math.max(Math.min(l,1500),1024);g=g+(l-420-23)/2-b/e[1]*c}}return g}function l(b,e,c){b=b.heroImage;return!(a.isDefined(b)&&a.isDefined(b[e])&&a.isDefined(b[e][c])&&a.isDefined(b[e][c].main))||1>g.map(b[e][c].main,function(a,b){return b}).length?-1:b[e][c]}return{getHeroImageHash:l,getHeroDimParams:function(d,n,c){if(d.repositionHeroImage){if(!a.isDefined(c)){c=l(d,n.color,n.index);if(-1===c)return;n=g.map(c.main,function(a,b){return b})[0];
c=c.main[n]}n=b(c,d);d=e(n[0],c,d);return{height:n[1],width:n[0],xPos:d,yPos:75}}}}});"use strict";u.when("postMetric").register("ImageBlockImmersiveViewShowroom",function(g){function a(){this.render=function(){};this.update=function(){}}return function(b,e,l,d){var n=!1,c=new a;u.now("showroom-image-block-view").execute("showroom-image-block-view-decider",function(a){a!==ea&&(n=!0,c=new a(b,e,l,d))});b&&!0===b.showroomEnabled&&!1===n&&g.postCountMetric("showroom:atf:imageBlock:hiddenDueToAssetsNotPresentInTime");
return c}});"use strict";u.when("A","jQuery","imageBlockUtils").register("imageBlockImmersiveViewUtils",function(g,a,b){function e(a,e){var c=g.copy(a);if(b.isDefined(a)&&a.length>e){try{for(var l=-1,m=0;m<a.length;m++){var r=a.charAt(m);if(" "===r||"."===r||"?"===r||";"===r||","===r||":"===r)l=m;if(m===e-4){c=a.substring(0,-1===l?m:l);break}}}catch(u){c=a.substring(0,e-3)}c+="..."}return c}function l(a,b){var c=a.lastIndexOf(".");return a="_"===a.charAt(c-1)?a.substring(0,c-1)+b+a.substring(c):a.substring(0,
c)+"."+b+a.substring(c)}return{getDimension:function(a,b){var c=parseInt(a.css(b),10);return isNaN(c)?0:c},attachTabSelectHandler:function(a,b){g.on("dp:ivTabs:"+a+":select",b)},attachTabDeselectHandler:function(a,b){g.on("dp:ivTabs:"+a+":deselect",b)},attachImmersiveViewResizeHandler:function(a){g.on("dp:image-block:immersive-view:resize",a)},detachImmersiveViewResizeHandler:function(a){g.off("dp:image-block:immersive-view:resize",a)},attachImmersiveViewResetHandler:function(a){g.on("a:popover:afterHide:immersiveView",
a)},hideTabHeading:function(b){a("#"+b).hide()},unhideTabHeading:function(b){a("#"+b).show()},addStyleCodeToURL:l,getResizedThumbnailURL:function(a,b){a=a.replace(/\._(AA|SS)\d+_/,"").replace(/\._SX\d+_SY\d+_CR,0,0,\d+,\d+_/,"");a=a.replace(/\._(US)\d+_/,"").replace(/\._SR\d+,\d+_/,"").replace(/\._SP[0-9,C]+_/,"");a=a.replace(/\._CB\d+_SS\d+_/,"");var c="_AA50_";b&&(c+="FMpng_RI_");return l(a,c)},populateVariationSelection:function(d){if(b.isDefined(r.DetailPage)&&b.isDefined(r.DetailPage.StateController)){d.empty();
var e=r.DetailPage.StateController.getState(),c=e.variation_label_order,g;for(g in c)if(c.hasOwnProperty(g)){var l=c[g],u=e.selected_variations[l],l=e.variation_display_labels[l];u&&a("\x3cdiv/\x3e").addClass("ivVariations").text(l+":"+u).appendTo(d)}}},populateTitle:function(a,b,c){a.html(c.title);a.attr("title",a.text());a.html(e(c.title,b))},animateStageIn:function(a){a.animate({opacity:1},200)},animateStageOut:function(a,b){a.animate({opacity:.4},100,b)},logError:function(a,b,c,e){r.ueLogError&&
r.ueLogError(e,{logLevel:a,attribution:b,message:c})}}});"use strict";u.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveViewImages",function(g,a,b,e,l){function d(){l.populateTitle(p.find("#ivTitle"),160,h)}function n(){var a=k.getCurrentItem().color;D=h.colorImages[a];x=h.heroImage[a];A=L=0;b.isDefined(x)&&(A=x.length);b.isDefined(D)&&(L=D.length)}function c(a){return a.hiRes||a.large||a.main[a.main.length-1]}function q(){var a=p.find("#ivStage").find("#ivLargeImage"),
b=a.width(),d=a.height(),c=a.find(".fullscreen");c.removeAttr("style");var e=c.width(),g=c.height();0<c.length&&(c[0].naturalWidth&&(e=c[0].naturalWidth),c[0].naturalHeight&&(g=c[0].naturalHeight));a.css("cursor","auto");var e=0===e?1:e,g=0===g?1:g,l=Math.min(b/e,d/g),k=g*l,n=e*l;1>l?(F?a.css("cursor","url('"+h.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),f=!0):f=!1;e=Math.min(n,e);g=Math.min(k-20,g);c.css({"margin-top":(d-
g)/2,"margin-left":(b-e)/2,height:g,width:e});a.css("visibility","visible");y=!1}function m(a){var b=p.find("#ivLargeImage");b.css("visibility","hidden");b.empty();l.animateStageIn(b);b.append(a);q()}function r(d){p.find("#ivLargeImage").css("display","none");p.find("#ivLargeImage").css("display","block");var f;"hero-image"===d?b.isDefined(x)&&(f=c(x[H.index])):b.isDefined(D)&&(f=c(D[H.index]));if(b.isDefined(f)){p.find(".fullscreen").remove();var e=a("\x3cimg\x3e").attr("src",f).addClass("fullscreen"),
g=p.find("#ivLargeImage");l.animateStageOut(g,function(){e.load(function(){m(e)});if(e[0].complete)m(e);else{g.empty();var b=(g.height()-104)/2,d=(g.width()-80)/2;a("\x3cimg\x3e").attr("src",h.staticImages.spinner).css({position:"relative",top:b+"px",left:d+"px"}).appendTo(g)}})}}function u(a){p.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivHeroImage")?H.type="hero-image":H.type="image";H.index=a.attr("id").split("_")[1];r(H.type);e.postCountMetric("dpcc_iv_thumbCLick_"+
(parseInt(H.index,10)+1)+"_"+(A+L))}function K(){p.delegate(".ivThumb","click",function(){var b=a(this);u(b)})}function v(a,b){return 0<b?b/2:Math.min(0,Math.max(b,a))}function B(a){var b=C.top-(a.pageY-G[1])*E;a=v(C.left-(a.pageX-G[0])*E,w.left);b=v(b,w.top);p.find(".fullscreen").css({left:a,top:b})}function P(){p.delegate("#ivLargeImage","click",function(a){if(y)q();else if(f){p.find(".fullscreen").removeAttr("style");if(f){var b=p.find("#ivLargeImage"),d=b.find(".fullscreen");F?b.css("cursor",
"url('"+h.staticImages.zoomOut+"'), auto"):(b.css("cursor","-webkit-zoom-out"),b.css("cursor","-moz-zoom-out"),b.css("cursor","zoom-out"));y=!0;var c=p.find("#ivLargeImage");w.left=c.width()-d.width();w.top=c.height()-d.height();var c=b.height()/2,g=b.width()/2;G=[b.offset().left+g,b.offset().top+c];C.top=c-d.height()/2;C.left=g-d.width()/2;d.css({position:"relative",left:C.left,top:C.top});E=Math.max(d.height()/b.height(),d.width()/b.width())}B(a);e.postCountMetric("dpcc_iv_largeImageCLick")}});
p.delegate("#ivLargeImage","mousemove",function(a){y&&B(a)})}function M(){p.find("#ivLargeImage").empty()}function O(c){if(N){p=a("#ivMain");n();H=k.getCurrentItem();d();l.populateVariationSelection(p.find("#ivVariationSelection"));c=p.find("#ivThumbs");c.find(".ivRow").not(".placeholder").remove();for(var f=A+L,e=0,g=0;e<f;)for(var h=c.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(c),m=0;4>m&&e<f;m++,e++,g++)if(g<A){var q=x[e].thumb,r=c.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr("id",
"ivHeroImage_"+e).appendTo(h);r.find(".ivThumbImage").css("background",'url("'+l.getResizedThumbnailURL(q)+'") center no-repeat')}else g>=A&&g<L+A&&(q=D[e-A].thumb,r=c.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr("id","ivImage_"+(e-A)).appendTo(h),r.find(".ivThumbImage").css("background",'url("'+l.getResizedThumbnailURL(q)+'") center no-repeat'));S();N=!1}else d();c=a("#ivImagesTab").height();p.css("height",c);f=p.find("#ivTitle").outerHeight(!0);e=p.find("#ivVariationSelection").outerHeight(!0);
g=p.find("#ivThumbs");h=l.getDimension(g,"margin-top")+l.getDimension(g,"margin-bottom");g.css("height",c-f-e-h);p.find("#ivLargeImage").css("height",c);c=p.find("#ivStage");f=p[0]&&p[0].getBoundingClientRect&&Math.floor(p[0].getBoundingClientRect().width)||p.width();c.css("width",f-l.getDimension(p,"padding-left")-l.getDimension(p,"padding-right")-p.find("#ivThumbColumn").width()-l.getDimension(c,"margin-left")-l.getDimension(c,"margin-right"));H=k.getCurrentItem();c="hero-image"===H.type?p.find("#ivHeroImage_"+
H.index):"image"===H.type?p.find("#ivImage_"+H.index):b.isDefined(x)?p.find("#ivHeroImage_"+H.index):p.find("#ivImage_"+H.index);b.isjQueryObjDefined(c)||(c=p.find("#ivImage_0"));u(c)}var R,h,k,p,x,D,A,L,H,F=navigator.userAgent.match(/msie|trident/i),N=!0,y=!1,f=!1,w={},C={},E,G,N=!0,S=g.once(function(){K();P();l.attachImmersiveViewResizeHandler(O);l.attachTabDeselectHandler("ivImagesTab",M)});return function(b,c,d,f){R=this;h=b;k=c;R.render=function(b,c,d,f,e,g){N=!0;n();0===A+L?l.hideTabHeading("ivImagesTabHeading"):
l.unhideTabHeading("ivImagesTabHeading");1===A+L?a("#ivThumbs").hide():a("#ivThumbs").show()};R.update=function(a){};l.attachTabSelectHandler("ivImagesTab",O)}});"use strict";u.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils","vse_ns_preLoaderHook","vse_ns_lazyLoaderHook").register("ImageBlockImmersiveViewVideos",function(g,a,b,e,l,d,n){function c(){A.delegate(".ivThumb","click",function(){var b=a(this);A.find(".ivThumb").removeClass("selected");b.addClass("selected");
b.hasClass("ivThumbVideo")&&(L.type="chromeful-video",L.index=b.attr("id").split("_")[1])})}function q(){if(V){var b=a("#ivVideosTab").height();A.css("height",b);var c=A.find(".vse-lb-container");H=b-l.getDimension(c,"padding-top")-l.getDimension(c,"padding-bottom");c.css({"max-height":b,overflow:"hidden"});if(U){A.css({"max-width":Math.floor(1.77*H)});return}var b=A.find(".vse-player-container"),c=A.find(".vse-video-action-strip"),d=A.find(".vse-lb-video-metadata"),f=Math.floor(H-l.getDimension(d,
"height")-l.getDimension(c,"height")),e=Math.floor(1.77*f);b.css({"max-height":f,"max-width":e,marginLeft:"auto",marginRight:"auto"});d.css({"max-width":e,marginLeft:"auto",marginRight:"auto"});c.css({"max-width":e,marginLeft:"auto",marginRight:"auto"})}T&&(b=A.find(".vse-vertical-scroll"),c=l.getDimension(b,"margin-top")+l.getDimension(b,"margin-bottom"),b.css("max-height",H-c))}function m(){u();F&&F.pause();aa=!1;S=!0;w=null;ha=!0;V=!1}function u(){aa=!1;F&&F.pause()}function I(c){w=c.clickTimeStamp?
c.clickTimeStamp:g.now();b.isDefined(D)&&(D.eventTimestamp=w);aa=!0;W&&(n.get(g,"#ivVideoBlock",x,X,t),A=a("#ivVideoBlock"),p.getCurrentItem(),L=p.getCurrentItem(),z(),O());q();W=!1;B()}function K(b){W&&(A=a("#ivVideoBlock"),p.getCurrentItem(),L=p.getCurrentItem(),z());aa&&B();q()}function v(a){F=a.player;e.postTimeMetric("vse_ib_desktop_player_initialisation_duration",g.now()-da);k.imageBlockRenderingStartTime&&e.postTimeMetric("vse_ib_desktop_time_to_player_interactive",g.now()-k.imageBlockRenderingStartTime);
V&&(O(),B())}function B(){if(F&&aa&&(A.find(".vse-lb-container").animate({opacity:1},200),F.play(D),e.postCountMetric("dpcc_vse_videoBlock_video_played"),S)){var a=r.ue;a&&(a=a.count("dpcc_vse_videoingressclick"),a=(new Date).getTime()-a,e.postTimeMetric("dpcc_vse_vitff",a),S=!1)}}function P(){g.trigger("vse:detailpage-imageblock:page:lightBoxClosed")}function M(a){N=a.popover.$popover;V=!0;O()}function O(){if(V&&ha&&aa&&F){N.addClass(g.$(N).find(".vse-lb-container").data("cssClass"));var a=D;ea&&
(a=Y,ea=!1);g.trigger("vse:detailpage-imageblock:page:lightBoxOpened",{lightBoxId:"ivVideoBlock",assetSpec:a});q();ha=!1}}function R(a){document.getElementsByClassName("videoBlockIngress")[0].click();Y=a;ea=!0}var h,k,p,x,D,A,L,H,F,N,y,f,w,C,E,G,S=!0,W=!0,U=!1,T=!1,aa=!1,ha=!0,V=!1,ea=!1,Y,da=0,z=g.once(function(){c();l.attachImmersiveViewResizeHandler(K);l.attachTabDeselectHandler("ivVideosTab",u);l.attachImmersiveViewResetHandler(m)}),ca=function(c,d,f){a("#ivVideoBlockSpinner").addClass("aok-hidden");
e.postCountMetric("dpcc_vse_videoBlock_preload_failed_"+d.placement);c=p.getCurrentItem().color;c=b.getVideoHash(c,0,k);F||(F=b.createAiryInstanceForChromeful(a("#ivVideoBlock"),c,k.airyConfig,"ImmersiveView"));U=!0;a("#ivVideoBlock").css({"max-width":1.77*H,margin:"0 auto"});aa&&U&&F.play({isAsync:!0})},ja=function(b,c,d){W||n.get(b,"#ivVideoBlock",x,X,t);a("#ivVideoBlockSpinner").addClass("aok-hidden")},X=function(a,b,c){T=!0;q()},t=function(a,b,c){e.postCountMetric("dpcc_vse_videoBlock_lazyload_failed_"+
b.pageContext.placement+"_"+b.configuration.type)};return function(a,c,e,n){h=this;k=a;p=c;h.render=function(a,c,e,h,n,m){a=p.getCurrentItem().color;c=b.getVideoHash(a,0,k);!0===m?y=k.mediaAsin:(y=k.colorToAsin[a]&&k.colorToAsin[a].asin,y=b.isDefined(y)?y:k.mediaAsin);f=null!==k.vseVideoDataSourceTreatment&&"T1"===k.vseVideoDataSourceTreatment?"ASIN":"physicalID";C=k.contentWeblab;E=k.contentWeblabTreatment;G=k.parentAsin||"";W=!0;-1===c?l.hideTabHeading("ivVideosTabHeading"):(l.unhideTabHeading("ivVideosTabHeading"),
x={page:"DetailPage",placement:"ImageBlock",device:"Desktop",marketplaceID:c.marketPlaceID,locale:c.languageCode,product:{contentID:y,contentIDType:"ASIN",parentContentID:G,parentContentIDType:"ASIN"},video:{contentID:c.mediaObjectId,contentIDType:f,videoURL:c.url,imageURL:c.slateUrl},requestId:k.dpRequestId,weblabContext:[{name:C,assignment:E,ignoreForG2S2Key:!0}],metadata:{ProductTitle:k.title}},D={videoUrl:x.video.videoURL,contentId:x.video.contentID,duration:0,vendorCode:"",eventTimestamp:b.isDefined(w)?
w:g.now(),imageUrl:x.video.imageURL,productAsin:x.product.contentID,index:0},b.isDefinedAndNotEmpty(F)&&(F.destroy(),F=null),da=g.now(),d.get(g,"#ivVideoBlock",x,ja,ca))};h.update=function(a){};l.attachTabSelectHandler("ivVideosTab",I);g.on("vsePlayer-detailpage-imageblock",v);g.on("a:popover:afterShow:immersiveView",M);g.on("a:popover:beforeHide:immersiveView",P);g.on("detailpage-imageblock-leave-pip",R)}});"use strict";u.when("A","jQuery","imageBlockUtils","ImageBlockLoader","nexusLogger360","postMetric",
"imageBlockImmersiveViewUtils","hit-spin360-feature-data","hit-spin360-constants").register("ImageBlockImmersiveView360",function(g,a,b,e,l,d,n,c,q){function m(){var b=a("#iv360Tab").height();E.css("height",b);var c=E.find("#ivTitle360").outerHeight(!0),d=E.find("#ivVariationSelection360").outerHeight(!0),f=E.find("#ivThumbs360"),e=n.getDimension(f,"margin-top")+n.getDimension(f,"margin-bottom");f.css("height",b-c-d-e);b=E.find("#ivStage360");c=E[0]&&E[0].getBoundingClientRect&&Math.floor(E[0].getBoundingClientRect().width)||
E.width();b.css("width",c-n.getDimension(E,"padding-left")-n.getDimension(E,"padding-right")-E.find("#ivThumbColumn360").width()-n.getDimension(b,"margin-left")-n.getDimension(b,"margin-right"))}function r(){B();var a=E.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});n.animateStageIn(a)},200);u()}function u(){if(0<t){var a=E.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function K(b,c){if(t<b.length){var e=a("\x3cimg /\x3e").css({display:"block",
width:6*S+"px",height:W+"px"});e.hide();c.append(e);e.get(0).onload=function(){c.closest(document.documentElement).length&&(t++,1===t&&(u(),0<z&&(l.time("dppc_loadTime360",Date.now()-z,f.mediaAsin),d.postTimeMetric("dppc_loadTime360",Date.now()-z))),0<ca&&(l.time("dppc_perSpriteloadTime360",Date.now()-ca,f.mediaAsin),d.postTimeMetric("dppc_perSpriteloadTime360",Date.now()-ca)),E.find("#iv360Spinner").hide(),e.show(),Y=5*G.imageLocations[Math.floor(da/G.imageLocations[0].length)][da%G.imageLocations[0].length],
K(b,c))};e.attr("src",b[t].replace(/(\._SP)\d+(,)\d+/,"$1"+T+"$2"+U));ca=Date.now()}}function v(a){if(b.isDefined(G.spriteWidthSizes)&&0<G.spriteWidthSizes.length){var c=G.spriteWidthSizes,d=c.length,f=c[0],e=c[d-1];if(a<=f)return f;if(a>e)return e;for(f=0;f<d;f++)if(a>c[f]&&a<=c[f+1])return c[f+1]}else return a}function B(){var b=E.find("#ivLarge360");b.children("#image-360-sprites").length||(b.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),b.css({"margin-left":0,"margin-top":0,width:b.parent().width(),
height:b.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),a("\x3cimg\x3e").attr("src",f.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(b),V=!0,P())}function P(){if(b.isDefined(G.spriteURLs)&&b.isDefined(E)&&V&&!oa){var c=E.find("#ivLarge360"),d=a("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",
width:"100%",bottom:0,opacity:0,display:"block"});b.isDefined(G.staticImages.hint360)&&a("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",G.staticImages.hint360).appendTo(d);a("\x3cdiv\x3e").css({"text-align":"center"}).text(f.staticStrings.dragToSpin).appendTo(d);d.appendTo(c);var d=G.imageWidth,e=G.imageHeight,g=c.parent().width(),l=c.parent().height(),n=0,m=0;d/e>g/l?(T=v(g),U=Math.round(e/d*T),S=Math.ceil(g),W=Math.ceil(U/T*g),m=(l-W)/2):(U=v(l),T=Math.round(d/
e*U),W=Math.ceil(l),S=Math.ceil(T/U*l),n=(g-S)/2);c.css({"margin-left":n,"margin-top":m,width:S+"px",height:W+"px",overflow:"hidden",position:"relative"});c.children("#image-360-sprites").css("width",6*S+"px");K(G.spriteURLs,E.find("#image-360-sprites"),0);d=E.find("#ivLarge360");d.bind("mousedown",h);d.bind("touchstart",M);d.bind("touchmove",O);d.bind("touchend",R);a(document).bind("mousemove",k);a(document).bind("mouseup",p);b.isDefined(f.staticImages.grab)&&c.css("cursor","url('"+f.staticImages.grab+
"'), auto");oa=!0}}function M(a){X=!0;ha=a.originalEvent.targetTouches[0].clientX}function O(a){X&&(x(a.originalEvent.targetTouches[0].clientX-ha),ha=a.originalEvent.targetTouches[0].clientX)}function R(a){X&&(X=!1)}function h(a){ja=!0;aa=a.originalEvent.clientX;b.isDefined(f.staticImages.grabbing)&&(a=E.find("#ivLarge360"),a.css("cursor","url('"+f.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor","url('"+f.staticImages.grabbing+"'), auto"));return!1}function k(a){ja&&
(x(a.originalEvent.clientX-aa),aa=a.originalEvent.clientX)}function p(a){ja&&(ja=!1,b.isDefined(f.staticImages.grab)&&(a=E.find("#ivLarge360"),a.css("cursor","url('"+f.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function x(a){Y-=a/S*180;la&&(l.count("dppc_360dragToSpin",f.mediaAsin),d.postCountMetric("dppc_360dragToSpin"));la=!1;for(a=Y;0>a;)a+=360;for(;360<a;)a-=360;Y=a;var c;a=360;for(var e=0;e<t;e++)for(var g=0;g<G.imageLocations[e].length;g++){var h=
Math.abs(Y-5*G.imageLocations[e][g]);h<a&&(a=h,c=e*G.imageLocations[0].length+g)}c!==da&&(a=Math.floor(c/G.imageLocations[0].length),a!==Math.floor(da/G.imageLocations[0].length)&&(b.isDefined(ka)||(ka=document.createElement("canvas").getContext("2d")),e=E.find("#image-360-sprites").children(),ka.drawImage(e[a],0,0)),a=E.find(".iv360Hint").not(".iv360HintFaded"),b.isDefined(a)&&(a.addClass("iv360HintFaded"),a.animate({opacity:0},750)));da=c;a=c%G.imageLocations[0].length*-1*S;c=-1*Math.floor(c/G.imageLocations[0].length)*
W;e=E.find("#ivLarge360").children("#image-360-sprites");e.css("-webkit-transform","translate3d("+a+"px, "+c+"px, 0)");e.css("transform","translate3d("+a+"px, "+c+"px, 0)")}function D(){if(ba){E=a("#ivMain360");var b=w.getCurrentItem().color;L()&&H(b);G=L()?f.spin360ColorData[b]:ea;n.populateTitle(E.find("#ivTitle360"),160,f);n.populateVariationSelection(E.find("#ivVariationSelection360"));E.find("#ivLarge360").empty();t=0;oa=V=!1;da=Y=0;fa();ba=!1}0!==a("#iv360Tab").height()&&(n.detachImmersiveViewResizeHandler(D),
m(),r(),z=Date.now(),ia=la=!0,l.count("dppc_click360",f.mediaAsin),d.postCountMetric("dppc_click360"))}function A(a,g,h){a=f.colorToAsin[h];var k={},n=500;if(!a||!a.asin)if(h===f.defaultColor)a={asin:f.winningAsin};else return;k.params={asin:a.asin};var m="360"+a.asin,q=Date.now();k.success=function(a){l.time("dppc_asyncRequestTime360",Date.now()-q,f.mediaAsin);d.postTimeMetric("dppc_asyncRequestTime360",Date.now()-q);a&&b.isDefined(a.spin360)?((a=a.spin360.spin360Model)&&c.setData(a),b.ajaxState(m,
"success")):k.error()};k.error=function(){l.count("dppc_asyncFailedTransient360",f.mediaAsin);d.postCountMetric("dppc_asyncFailedTransient360");l.time("dppc_asyncRequestTime360",Date.now()-q,f.mediaAsin);d.postTimeMetric("dppc_asyncRequestTime360",Date.now()-q);n*=2;16E3>=n?setTimeout(function(){q=Date.now();e.load("/gp/product/features/apparel-main-image/360.html",k)},n):(l.count("dppc_asyncFailed360",f.mediaAsin),d.postCountMetric("dppc_asyncFailed360"),b.ajaxState(m,"fail"))};b.ajaxState(m)&&"fail"!==
b.ajaxState(m)||(e.load("/gp/product/features/apparel-main-image/360.html",k),b.ajaxState(m,"sent"))}function L(){return f&&b.isDefined(f.spin360ConfigEnabled)&&f.spin360ConfigEnabled}function H(a){return b.isDefinedAndNotEmpty(f.spin360ColorData[a])?!0:b.isDefined(f.spin360LazyLoadEnabled)&&f.spin360LazyLoadEnabled}function F(){ia&&(l.time("dppc_duration360",Date.now()-z,f.mediaAsin),d.postTimeMetric("dppc_duration360",Date.now()-z),ia=!1)}function N(a){a=f.colorToAsin[a.color]&&f.colorToAsin[a.color].asin;
a||(a=f.mediaAsin);return a}var y,f,w,C,E,G,S,W,U,T,aa,ha,V=!1,oa=!1,Y=0,da=0,z=0,ca=0,ja=!1,X=!1,t=0,ka,la=!0,ia=!1,ba=!0,fa=g.once(function(){n.attachImmersiveViewResizeHandler(D);n.attachImmersiveViewResizeHandler(m);n.attachImmersiveViewResetHandler(F);n.attachTabDeselectHandler("iv360Tab",F)});return function(e,h,k,m){y=this;f=e;w=h;C=m;e=f.landingAsinColor;h=f.defaultColor;b.isDefined(f.staticImages.icon360)&&a("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",
n.addStyleCodeToURL(f.staticImages.icon360,"_FMpng_RI_"));L()&&(f.spin360ColorData||(f.spin360ColorData={}),e===h&&b.isDefinedAndEmpty(f.spin360ColorData[h])&&delete f.spin360ColorData[h]);g.on(q.TWISTER_DATA_EVENT,function(a){N(w.getCurrentItem())===a&&(G=c.getData(a),P(),a={type:"updatedData",data:w.getCurrentItem()},C.dispatch("updateView",a))});y.render=function(e,h,k,m,q,p){ba=!0;!L()||b.isDefinedAndEmpty(f.spin360ColorData[e])&&!c.getData(N(w.getCurrentItem()))?n.hideTabHeading("iv360TabHeading"):
(f.spin360ColorData[e]=c.getData(N(w.getCurrentItem())),b.isDefinedAndNotEmpty(f.spin360ColorData[e])?(a("#ivThumbs360").hide(),n.unhideTabHeading("iv360TabHeading"),b.isImmersiveViewEnabled(f,w.getCurrentItem().color)&&L()&&H(e)&&(h===f.maxAlts&&(e=m.find(".item.imageThumbnail"),h=m.find(".item.videoThumbnail"),b.isDefined(h)&&1<h.length?h.last().remove():e.last().remove()),e=m.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),g.declarative.create(e,
"button-360-click"),m.append(e),l.count("dppc_display360",f.mediaAsin),d.postCountMetric("dppc_display360"))):b.isDefined(f.spin360LazyLoadEnabled)&&f.spin360LazyLoadEnabled?(f.spin360ColorData[e]={},n.hideTabHeading("iv360TabHeading"),A(m,h,e)):n.hideTabHeading("iv360TabHeading"))};y.update=function(a){};n.attachTabSelectHandler("iv360Tab",D)}});u.register("nexusLogger360",function(){return{count:function(g,a){r.ue&&r.ue.event({asin:a,metricName:g,metricValue:1},"hit-360","hit360.clientEvent.3")},
time:function(g,a,b){r.ue&&r.ue.event({asin:b,metricName:g,metricValue:a},"hit-360","hit360.clientEvent.3")}}});u.register("hit-spin360-constants",function(){return{TWISTER_DATA_EVENT:"spin360TwisterData"}});u.when("A","hit-spin360-constants").register("hit-spin360-feature-data",function(g,a){var b={};return{setData:function(e){var l=e.asin;b[l]||(b[l]=e,g.trigger(a.TWISTER_DATA_EVENT,l))},getData:function(a){return b[a]}}});"use strict";u.when("postMetric","imageBlockImmersiveViewUtils").execute("vse-ns-ajax-calls",
function(g,a){u.register("vse_ns_preLoaderHook",function(){function b(e,l){try{var d=e.A,n=e.block,c=e.request,q=e.handleFailure,m=e.handleSuccess,r=d.$;l--;var u=3-l-1,K=d.now();d.ajax("/vap/ew/componentbuilder",{params:c,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:c.timeout||5E3,withCredentials:!0,success:function(a){var b=d.now()-K;g.postTimeMetric("vse_preLoaderHook:success:",b);g.postCountMetric("vse_preLoaderHook:success:"+c.page+":"+c.placement+":"+
u);r(n).html(a);m(d,c,a)},error:function(a){g.postCountMetric("vse_preLoaderHook:error:"+c.page+":"+c.placement+":"+u);(0===a.http.status||500<=a.http.status&&599>=a.http.status)&&0<l?b(e,l):(g.postCountMetric("vse_preLoaderHook:error:",1),q(d,c,a))}})}catch(v){a.logError("FATAL","vse_ns_desktop","[vse_ns_preLoaderHook] ",v)}}return{get:function(a,g,d,n,c){b({A:a,block:g,request:d,handleFailure:c,handleSuccess:n},3)}}});u.register("vse_ns_lazyLoaderHook",function(){function b(e,l,d){try{var n=e.A,
c=e.context,q=e.handleFailure,m=e.handleSuccess;l.attr("data-configuration");var r=atob(l.attr("data-configuration")),u=JSON.parse(r),K={pageContext:c,configuration:u},v=n.now();d--;var B=3-d-1;n.ajax("/vap/ew/subcomponent/"+u.type,{params:K,paramsFormat:"json",method:"post",contentType:"application/json",timeout:c.timeout||5E3,withCredentials:!0,success:function(a){var b=n.now()-v;g.postTimeMetric("vse_lazyLoaderHook:success:",b);g.postCountMetric("vse_lazyLoaderHook:success:"+c.page+":"+c.placement+
":"+u.type+":"+B);l.html(a);m(n,K,a)},error:function(a){g.postCountMetric("vse_lazyLoaderHook:error:"+c.page+":"+c.placement+":"+u.type+":"+B);(0===a.http.status||500<=a.http.status&&599>=a.http.status)&&0<d?b(e,l,d):(g.postCountMetric("vse_lazyLoaderHook:error:",1),q(n,K,a))}})}catch(P){a.logError("FATAL","vse_ns_desktop","[vse_ns_lazyLoaderHook] ",P)}}return{get:function(a,g,d,n,c){var q=a.$;q(g+" div[data-configuration]").each(function(){b({A:a,context:d,handleFailure:c,handleSuccess:n},q(this),
3)})}}});u.register("vse_ns_videoPlayer",function(){function b(e,l,d){try{var n=e.A,c=e.block,q=e.request,m=e.handleFailure,r=e.handleSuccess,u=n.$;d--;var K=3-d-1,v=n.now();n.ajax("/vap/ew/subcomponent/vseplayer",{params:q,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:q.timeout||5E3,withCredentials:!0,success:function(a){var b=n.now()-v;g.postTimeMetric("vse_lightPlayerLoaderHook:success:",b);g.postCountMetric("vse_lightPlayerLoaderHook:success:"+q.page+
":"+q.placement+":"+K);u(c).html(a);r(n,q,a)},error:function(a){g.postCountMetric("vse_lightPlayerLoaderHook:error:"+q.page+":"+q.placement+":"+K);(0===a.http.status||500<=a.http.status&&599>=a.http.status)&&0<d?b(e,d):(g.postCountMetric("vse_lightPlayerLoaderHook:error:",1),m(n,q,a))}})}catch(B){a.logError("FATAL","vse_ns_lightPlayer","[vse_ns_lightPlayerLoaderHook] ",B)}}return{get:function(a,g,d,n,c){b({A:a,block:g,request:d,handleFailure:c,handleSuccess:n},3)}}})});"use strict";u.when("A","ImageBlockATF",
"ImageBlockBTF","imageBlockUtils","postMetric").execute(function(g,a,b,e,l){var d=[0,50,100,500,1E3,2E3,3E3,3500];(function(){var a=b.colorImages,c=0,g;for(g in a)a[g]&&a[g].length&&(c+=a[g].length);a="image_size_bucket:gt"+d[d.length-1];for(g=1;g<d.length;g++)if(c<=d[g]){a="image_size_bucket:"+d[g-1]+"-"+d[g];break}l.postCountMetric(a);e.addTag(a)})();(function(){var b=a.colorImages;b&&b.initial&&b.initial.length&&(b=b.initial.length,r.ue&&ue.count&&ue.count("altImageCount",b))})();(function(){var a=
b.lazyLoadExperienceDisabled;e.isDefined(b.lazyLoadExperienceDisabled)&&!a&&(l.postCountMetric("lazyLoadingExperienceOnTwisterUpdateEnabled"),e.addTag("lazyLoadingExperienceOnTwisterUpdateEnabled"))})()});u.when("A","get-resource-time","postMetric","afterLoad").execute(function(g,a,b){var e=g.state("desktop-landing-image-data");e&&(e=g.values(e),a=a.getResourceTimeByName("img",e),g.each(a,function(a){a&&(a.responseEnd!=ea&&b.postCountMetric("ibDesktopLandingImageDownloadTime",r.parseInt(a.responseEnd)),
a.transferSize!=ea&&(0===a.transferSize?b.postCountMetric("ibDesktopLandingImageCached",1):(b.postCountMetric("ibDesktopLandingImageSizeInBytes",r.parseInt(a.transferSize)),b.postCountMetric("ibDesktopLandingImageNotCached",1))))}))});u.now().register("ImageBlockShoppableSceneView",function(){function g(){}return function(){this.update=this.render=g}});u.now().register("ShoppableSceneWeblabProvider",function(){return{isEnabled:!1}})});
/* ******** */
(function(h){var d=window.AmazonUIPageJS||window.P,k=d._namespace||d.attributeErrors,b=k?k("DetailPageShowroomImageBlockAssets",""):d;b.guardFatal?b.guardFatal(h)(b,window):b.execute(function(){h(b,window)})})(function(h,d,k){h.when("A","imageBlockUtils","showroom-lite-atf-feature-data","showroom-image-block-detail-page-rendering","showroom-image-block-constants","showroom-image-block-metrics").register("showroom-image-block-view",function(b,e,m,f,q,a){function d(g){g.interaction===k.MOUSE_ENTER&&
g.type===q.SHOWROOM_THUMBNAIL_TYPE&&f.isShowroomMainImageHidden()&&a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_THUMBNAIL_HOVER)}function c(c,b){var q=new Date;c.interaction=b.type;c.isUserGenerated=!0;if(e.isImageBlockGridViewEnabled()){if("mouseenter"===b.type&&m.isDataValidForAsin(u(c))&&(d(c),r&&clearTimeout(r),r=setTimeout(function(){var a=m.getDataForAsin(u(c)).imageData;f.updateMainImage(g,a,t);f.showShowroomMainImage(g);p.usePeekHover||e.selectGivenThumbnail(b.$declarativeParent,n)},e.getHoveringDelayTimer())),
"mouseleave"===b.type&&r&&clearTimeout(r),"click"===b.type){if(m.isDataValidForAsin(u(c))){var l=m.getDataForAsin(u(c)).imageData;f.updateMainImage(g,l,t);f.showShowroomMainImage(g)}e.selectGivenThumbnail(b.$declarativeParent,n);e.useTabbedImmersiveView(p)&&f.handleShowroomThumbnailClick(b)}}else m.isDataValidForAsin(u(c))&&(d(c),l=m.getDataForAsin(u(c)).imageData,f.updateMainImage(g,l,t),f.showShowroomMainImage(g)),p.usePeekHover&&"click"!==b.type||(e.selectGivenThumbnail(b.$declarativeParent,n),
"click"===b.type&&e.useTabbedImmersiveView(p)&&f.handleShowroomThumbnailClick(b));a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE_HANDLE_THUMBNAIL_EVENT,new Date-q)}function u(a){a=p.colorToAsin[a.color].asin;a||(a=p.mediaAsin);return a}var h=void 0,p=void 0,l=void 0,t=void 0,n=void 0,g=void 0,x=void 0,r=void 0,v=void 0,k={SWATCH_HOVER:"swatchHover",MOUSE_ENTER:"mouseenter"};return function(d,y,r,z){r=new Date;h=this;p=d;l=y;t=z;b.on(q.TWISTER_DATA_EVENT,function(a){u(l.getCurrentItem())===
a&&(a={type:"updatedData",data:l.getCurrentItem()},t.dispatch("updateView",a))});h.render=function(c,e,q,d,h,r){c=new Date;n=d;g=h.find("#main-showroom-container");g.parent().find("#showroom-canvas-caption");b.$("#main-image-container");try{var w=u(l.getCurrentItem());if(m.isDataValidForAsin(w)){var y=new Date,k=m.getDataForAsin(w);f.refresh(t,k.asin,k.defaultStageId);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_GET_DATA_FOR_ASIN,new Date-y);if(!r){var B=new Date;f.updateMainImage(g,
k.imageData,t);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UPDATE_MAIN_IMAGE,new Date-B)}var v=new Date;e=f.createThumbnail(p,d,e,k.imageData);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_CREATE_THUMBNAIL,new Date-v);var z=new Date;b.$("#ivShowroomTabHeading").removeClass("aok-hidden");a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UNHIDE_TAB_HEADING,new Date-z);if(w!==x){var A=new Date;a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_FEATURE_RENDERED);var C=
a.createShowroomAtfEvent(k.defaultStageId,w,a.EVENT_NAMES.IMAGEBLOCK_LOAD,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(C);x=w;a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_LOG_EVENT,new Date-A)}}else b.$("#ivShowroomTabHeading").addClass("aok-hidden")}catch(E){b.$("#ivShowroomTabHeading").addClass("aok-hidden")}a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER,new Date-c);return e};h.update=function(b){var t=new Date;try{var n=b.data;l.setCurrentEvent(b);n.type===q.SHOWROOM_THUMBNAIL_TYPE?
c(n,b):n.type!==q.SHOWROOM_MAIN_IMAGE_TYPE&&(b.type===k.SWATCH_HOVER?n.color===l.getCurrentItem().color&&l.getCurrentItem().type===q.SHOWROOM_THUMBNAIL_TYPE?f.showShowroomMainImage(g):f.hideShowroomMainImage(g):e.isImageBlockGridViewEnabled()?(l.setToPreviousItem(),"mouseenter"===b.type&&(v&&clearTimeout(v),v=setTimeout(function(){l.setToCurrentItem(n);f.hideShowroomMainImage(g)},e.getHoveringDelayTimer())),"mouseleave"===b.type&&v&&clearTimeout(v),"click"===b.type&&(l.setToCurrentItem(n),f.hideShowroomMainImage(g))):
f.hideShowroomMainImage(g))}catch(D){}a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE,new Date-t)};(d=document.getElementById("ivShowroomTabHeading"))&&d.addEventListener("click",function(b){a.addOne(a.COUNTER_NAMES.TAB_SELECT);b=m.getDataForAsin(x).defaultStageId;b=a.createShowroomAtfEvent(b,x,a.EVENT_NAMES.IMMERSIVE_VIEW_TAB_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(b)});a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_INVOKE,new Date-r)}});"use strict";h.register("showroom-image-block-constants",
function(){return{SHOWROOM_THUMBNAIL_TYPE:"showroom-image",SHOWROOM_MAIN_IMAGE_TYPE:"showroom-main-image",TWISTER_DATA_EVENT:"showroomTwisterData",STRING_IDS:{MAIN_IMAGE_OVERLAY_TEXT:"showroom_dp_imageblock_atf_main_image_overlay_text",MAIN_IMAGE_OVERLAY_TEXT_T1:"showroom_dp_imageblock_atf_main_image_overlay_text_T1",MAIN_IMAGE_OVERLAY_TEXT_T2:"showroom_dp_imageblock_atf_main_image_overlay_text_T2",MAIN_IMAGE_OVERLAY_ICON_URL:"showroom_dp_imageblock_atf_main_image_overlay_icon_url"}}});"use strict";
h.when("A","jQuery","imageBlockUtils","showroom-lite-atf-feature-data","showroom-image-block-constants","showroom-image-block-metrics").register("showroom-image-block-detail-page-rendering",function(b,e,m,f,d,a){function q(b){a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_MAIN_IMAGE_SELECT);var n=a.createShowroomAtfEvent(p,h,a.EVENT_NAMES.IMAGEBLOCK_MAIN_IMAGE_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(n);c(b)}function c(a){a.action="showroomIngressClick";a.data=l;k.dispatch("showroomIngressClick",
a)}var h,k,p,l;return{createThumbnail:function(a,b,c,e){c===a.maxAlts&&(b.find(".item.imageThumbnail").last().remove(),c--);l={type:"showroomIngress",index:0,thumbnailIndex:c,variant:e.variant};m.createThumbnail({type:d.SHOWROOM_THUMBNAIL_TYPE,index:0,thumbnailIndex:c,variant:e.variant},e.thumb,b,"showroom-imageblock-thumbnail");c++;return c},updateMainImage:function(a,c){var g=a.find("#showroom-main-image");g.length?g.attr("src",c.hiRes):(g=e('\x3cdiv id\x3d"showroom-main-image-container"\x3e                    \x3cimg src\x3d"'+
c.hiRes+'" id\x3d"showroom-main-image"/\x3e                \x3c/div\x3e'),g.appendTo(a),b.declarative.create(a,"showroom-image-action",l),b.declarative("showroom-image-action",["click"],q),"T2"===f.getTreatment()?(g.addClass("t2"),c=a.find("#showroom-main-image-overlay-container-t2"),c.length||(c=f.getStringValue(d.STRING_IDS.MAIN_IMAGE_OVERLAY_TEXT),g=f.getStringValue(d.STRING_IDS.MAIN_IMAGE_OVERLAY_TEXT_T2),c=e('                \x3cdiv id\x3d"showroom-main-image-overlay-container-t2"\x3e                    \x3cdiv style\x3d"padding-bottom: 7px;width: 40%;"\x3e                        \x3cspan id\x3d"showroom-main-image-overlay-subtext"\x3e'+
c+'\x3c/span\x3e                    \x3c/div\x3e                    \x3cspan class\x3d"a-button a-button-base"\x3e                        \x3cspan class\x3d"a-button-inner"\x3e                            \x3cinput class\x3d"a-button-input"\x3e                            \x3cspan class\x3d"a-button-text" id\x3d"showroom-main-image-overlay-button"\x3e                                \x3cimg id\x3d"showroom-main-image-overlay-icon" src\x3d"https://m.media-amazon.com/images/G/01/showroom/icon-lightbulb._CB628497379_.png"/\x3e'+
g+"\n                            \x3c/span\x3e                        \x3c/span\x3e                    \x3c/span\x3e                \x3c/div\x3e                "),c.appendTo(a))):(c=a.find("#showroom-main-image-overlay-container-t1"),c.length||(c=f.getStringValue(d.STRING_IDS.MAIN_IMAGE_OVERLAY_TEXT_T1),g=f.getStringValue(d.STRING_IDS.MAIN_IMAGE_OVERLAY_ICON_URL),c=e('                \x3cdiv id\x3d"showroom-main-image-overlay-container-t1"\x3e                    \x3cimg id\x3d"showroom-main-image-overlay-icon" src\x3d"'+
(g?g:"")+'"/\x3e                    \x3cdiv\x3e                        \x3cspan id\x3d"showroom-main-image-overlay-text"\x3e'+c+"\x3c/span\x3e                    \x3c/div\x3e                \x3c/div\x3e                "),c.appendTo(a))))},hideShowroomMainImage:function(a){a.parent().css("z-index",-1);a.parent().addClass("aok-hidden")},showShowroomMainImage:function(a){a.parent().css("z-index",2);a.parent().removeClass("aok-hidden")},isShowroomMainImageHidden:function(){return e("#showroom-outer-container").hasClass("aok-hidden")},
handleShowroomIngressClick:c,handleShowroomThumbnailClick:function(b){a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_THUMBNAIL_SELECT);var e=a.createShowroomAtfEvent(p,h,a.EVENT_NAMES.IMAGEBLOCK_THUMBNAIL_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(e);c(b)},handleShowroomMainImageClick:q,refresh:function(a,c,b){k=a;h=c;p=b}}});"use strict";h.when("A").register("showroom-image-block-metrics",function(b){return{EVENT_NAMES:{IMAGEBLOCK_LOAD:"srm_atf_imageBlock_load",IMAGEBLOCK_THUMBNAIL_CLICK:"srm_atf_thumbnail_click",
IMAGEBLOCK_MAIN_IMAGE_CLICK:"srm_atf_main_image_click",IMMERSIVE_VIEW_TAB_CLICK:"srm_atf_iv_tab_click"},COUNTER_NAMES:{SHOWROOM_IMAGEBLOCK_FEATURE_RENDERED:"showroom:atf:imageBlock:feature:render",SHOWROOM_IMAGEBLOCK_THUMBNAIL_HOVER:"showroom:atf:imageBlock:thumbnail:hover",SHOWROOM_IMAGEBLOCK_THUMBNAIL_SELECT:"showroom:atf:imageBlock:thumbnail:select",SHOWROOM_IMAGEBLOCK_MAIN_IMAGE_SELECT:"showroom:atf:imageBlock:mainImage:select",SHOWROOM_IMAGEBLOCK_FAILED_TO_INITIALIZED_WEBLAB_TRIGGER:"showroom:atf:imageBlock:failedToInitializeWeblabTrigger"},
STATUS_TYPES:{SUCCESS:"success",ERROR:"error"},TIMER_NAMES:{SHOWROOM_IMAGEBLOCK_LATENCY_INVOKE:"showroom:atf:imageBlock:latency:invoke",SHOWROOM_IMAGEBLOCK_LATENCY_LOAD:"showroom:atf:imageBlock:latency:load",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER:"showroom:atf:imageBlock:latency:render",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_GET_DATA_FOR_ASIN:"showroom:atf:imageBlock:latency:render:getDataForAsin",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UPDATE_MAIN_IMAGE:"showroom:atf:imageBlock:latency:render:updateMainImage",
SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_CREATE_THUMBNAIL:"showroom:atf:imageBlock:latency:render:createThumbnail",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UTIL_CREATE_THUMBNAIL:"showroom:atf:imageBlock:latency:render:utilCreateThumbnail",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UNHIDE_TAB_HEADING:"showroom:atf:imageBlock:latency:render:unhideTabHeading",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_LOG_EVENT:"showroom:atf:imageBlock:latency:render:logEvent",SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE:"showroom:atf:imageBlock:latency:update",
SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE_HANDLE_THUMBNAIL_EVENT:"showroom:atf:imageBlock:latency:update:handleThumbnailEvent"},addOne:function(b){try{if(d.ue&&b){var e=(d.ue.count(b)||0)+1;d.ue.count(b,e)}}catch(f){}},logValue:function(b,m){try{d.ue&&b&&"number"===typeof m&&d.ue.count(b,m)}catch(f){}},createShowroomAtfEvent:function(e,d,f,h){var a={};a.showroomId=e;a.asin=d;a.eventType=f;a.status=h;a.device=b.capabilities?b.capabilities.isAmazonApp?"AmazonApp":b.capabilities.mobile?"mobile":b.capabilities.tablet?
"tablet":"desktop":"";a.userAgent=navigator?navigator.userAgent:"";a.producerId="showroom_atf";a.schemaId="com.amazon.showroom.ingress.clientEvent.3";return a},logShowroomAtfEvent:function(b){try{d.ue&&d.ue.event&&b&&d.ue.event(b,"showroom_atf","com.amazon.showroom.ingress.clientEvent.3")}catch(m){}}}});"use strict";h.when("A","showroom-image-block-constants").register("showroom-lite-atf-feature-data",function(b,d){function e(){return h[a]}function f(a){return a in h}var h={},a,k="T1";return{setData:function(c){c&&
c.asin&&c.imageDomain&&c.defaultCollageUrl&&c.defaultStageId&&Array.isArray(c.itemMainImagePhysicalIds)&&(a=c.asin,c.experimentTreatment&&(k=c.experimentTreatment),f(c.asin)||(h[c.asin]=c,b.trigger(d.TWISTER_DATA_EVENT,c.asin)))},getDataForCurrentAsin:e,getDataForAsin:function(a){return h[a]},getStringValue:function(a){return e().displayStrings?e().displayStrings[a]:""},getTreatment:function(){return k},isDataValidForAsin:f}})});
/* ******** */
